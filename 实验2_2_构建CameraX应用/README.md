<p class="MsoNormal"><b><span style="font-family: 微软雅黑; color: rgb(31, 35, 40); letter-spacing: 0pt; font-size: 12pt; background-image: initial; background-position: initial; background-size: initial; background-repeat: initial; background-attachment: initial; background-origin: initial; background-clip: initial;"><font face="微软雅黑">实验</font><font face="微软雅黑">2_2_构建cameraX应用</font></span></b><span style="mso-spacerun:'yes';font-family:微软雅黑;font-size:10.5000pt;
mso-font-kerning:1.0000pt;"><o:p></o:p></span></p><p class="MsoNormal" style="margin: 5pt 0pt;"><span style="font-family: 微软雅黑; letter-spacing: 0pt; font-size: 10.5pt; background-image: initial; background-position: initial; background-size: initial; background-repeat: initial; background-attachment: initial; background-origin: initial; background-clip: initial;">&nbsp;</span><span style="mso-spacerun:'yes';font-family:微软雅黑;font-size:10.5000pt;
mso-font-kerning:1.0000pt;"><o:p></o:p></span></p><p class="MsoNormal" style="margin: 5pt 0pt;"><b><span style="font-family: 微软雅黑; letter-spacing: 0pt; font-size: 10.5pt; background-image: initial; background-position: initial; background-size: initial; background-repeat: initial; background-attachment: initial; background-origin: initial; background-clip: initial;"><font face="微软雅黑">在</font><font face="微软雅黑">activity.xml中设置俩个按钮用于拍摄和录像</font></span></b><span style="mso-spacerun:'yes';font-family:微软雅黑;font-size:10.5000pt;
mso-font-kerning:1.0000pt;"><o:p></o:p></span></p><p class="pre" style="margin-top:5.0000pt;margin-right:0.0000pt;margin-bottom:5.0000pt;
margin-left:0.0000pt;mso-margin-top-alt:auto;mso-margin-bottom-alt:auto;
mso-pagination:widow-orphan;background:rgb(43,43,43);"><span style="font-family: System; letter-spacing: 0pt; font-size: 9.5pt; background-image: initial; background-position: initial; background-size: initial; background-repeat: initial; background-attachment: initial; background-origin: initial; background-clip: initial; color: rgb(255, 255, 255);">&lt;</span><span style="font-family: 黑体; letter-spacing: 0pt; font-size: 9.5pt; background-image: initial; background-position: initial; background-size: initial; background-repeat: initial; background-attachment: initial; background-origin: initial; background-clip: initial; color: rgb(255, 255, 255);">Button</span><span style="font-family: 黑体; letter-spacing: 0pt; font-size: 9.5pt; background-image: initial; background-position: initial; background-size: initial; background-repeat: initial; background-attachment: initial; background-origin: initial; background-clip: initial; color: rgb(255, 255, 255);"><br /></span><span style="font-family: 黑体; letter-spacing: 0pt; font-size: 9.5pt; background-image: initial; background-position: initial; background-size: initial; background-repeat: initial; background-attachment: initial; background-origin: initial; background-clip: initial; color: rgb(255, 255, 255);">&nbsp;&nbsp;&nbsp;&nbsp;<font face="黑体">android:id="@+id/image_capture_button"</font></span><span style="font-family: 黑体; letter-spacing: 0pt; font-size: 9.5pt; background-image: initial; background-position: initial; background-size: initial; background-repeat: initial; background-attachment: initial; background-origin: initial; background-clip: initial; color: rgb(255, 255, 255);"><br /></span><span style="font-family: 黑体; letter-spacing: 0pt; font-size: 9.5pt; background-image: initial; background-position: initial; background-size: initial; background-repeat: initial; background-attachment: initial; background-origin: initial; background-clip: initial; color: rgb(255, 255, 255);">&nbsp;&nbsp;&nbsp;&nbsp;<font face="黑体">android:layout_width="110dp"</font></span><span style="font-family: 黑体; letter-spacing: 0pt; font-size: 9.5pt; background-image: initial; background-position: initial; background-size: initial; background-repeat: initial; background-attachment: initial; background-origin: initial; background-clip: initial; color: rgb(255, 255, 255);"><br /></span><span style="font-family: 黑体; letter-spacing: 0pt; font-size: 9.5pt; background-image: initial; background-position: initial; background-size: initial; background-repeat: initial; background-attachment: initial; background-origin: initial; background-clip: initial; color: rgb(255, 255, 255);">&nbsp;&nbsp;&nbsp;&nbsp;<font face="黑体">android:layout_height="110dp"</font></span><span style="font-family: 黑体; letter-spacing: 0pt; font-size: 9.5pt; background-image: initial; background-position: initial; background-size: initial; background-repeat: initial; background-attachment: initial; background-origin: initial; background-clip: initial; color: rgb(255, 255, 255);"><br /></span><span style="font-family: 黑体; letter-spacing: 0pt; font-size: 9.5pt; background-image: initial; background-position: initial; background-size: initial; background-repeat: initial; background-attachment: initial; background-origin: initial; background-clip: initial; color: rgb(255, 255, 255);">&nbsp;&nbsp;&nbsp;&nbsp;<font face="黑体">android:layout_marginBottom="50dp"</font></span><span style="font-family: 黑体; letter-spacing: 0pt; font-size: 9.5pt; background-image: initial; background-position: initial; background-size: initial; background-repeat: initial; background-attachment: initial; background-origin: initial; background-clip: initial; color: rgb(255, 255, 255);"><br /></span><span style="font-family: 黑体; letter-spacing: 0pt; font-size: 9.5pt; background-image: initial; background-position: initial; background-size: initial; background-repeat: initial; background-attachment: initial; background-origin: initial; background-clip: initial; color: rgb(255, 255, 255);">&nbsp;&nbsp;&nbsp;&nbsp;<font face="黑体">android:layout_marginEnd="50dp"</font></span><span style="font-family: 黑体; letter-spacing: 0pt; font-size: 9.5pt; background-image: initial; background-position: initial; background-size: initial; background-repeat: initial; background-attachment: initial; background-origin: initial; background-clip: initial; color: rgb(255, 255, 255);"><br /></span><span style="font-family: 黑体; letter-spacing: 0pt; font-size: 9.5pt; background-image: initial; background-position: initial; background-size: initial; background-repeat: initial; background-attachment: initial; background-origin: initial; background-clip: initial; color: rgb(255, 255, 255);">&nbsp;&nbsp;&nbsp;&nbsp;<font face="黑体">android:elevation="2dp"</font></span><span style="font-family: 黑体; letter-spacing: 0pt; font-size: 9.5pt; background-image: initial; background-position: initial; background-size: initial; background-repeat: initial; background-attachment: initial; background-origin: initial; background-clip: initial; color: rgb(255, 255, 255);"><br /></span><span style="font-family: 黑体; letter-spacing: 0pt; font-size: 9.5pt; background-image: initial; background-position: initial; background-size: initial; background-repeat: initial; background-attachment: initial; background-origin: initial; background-clip: initial; color: rgb(255, 255, 255);">&nbsp;&nbsp;&nbsp;&nbsp;<font face="黑体">android:text="@string/take_photo"</font></span><span style="font-family: 黑体; letter-spacing: 0pt; font-size: 9.5pt; background-image: initial; background-position: initial; background-size: initial; background-repeat: initial; background-attachment: initial; background-origin: initial; background-clip: initial; color: rgb(255, 255, 255);"><br /></span><span style="font-family: 黑体; letter-spacing: 0pt; font-size: 9.5pt; background-image: initial; background-position: initial; background-size: initial; background-repeat: initial; background-attachment: initial; background-origin: initial; background-clip: initial; color: rgb(255, 255, 255);">&nbsp;&nbsp;&nbsp;&nbsp;<font face="黑体">app:layout_constraintBottom_toBottomOf="parent"</font></span><span style="font-family: 黑体; letter-spacing: 0pt; font-size: 9.5pt; background-image: initial; background-position: initial; background-size: initial; background-repeat: initial; background-attachment: initial; background-origin: initial; background-clip: initial; color: rgb(255, 255, 255);"><br /></span><span style="font-family: 黑体; letter-spacing: 0pt; font-size: 9.5pt; background-image: initial; background-position: initial; background-size: initial; background-repeat: initial; background-attachment: initial; background-origin: initial; background-clip: initial; color: rgb(255, 255, 255);">&nbsp;&nbsp;&nbsp;&nbsp;<font face="黑体">app:layout_constraintLeft_toLeftOf="parent"</font></span><span style="font-family: 黑体; letter-spacing: 0pt; font-size: 9.5pt; background-image: initial; background-position: initial; background-size: initial; background-repeat: initial; background-attachment: initial; background-origin: initial; background-clip: initial; color: rgb(255, 255, 255);"><br /></span><span style="font-family: 黑体; letter-spacing: 0pt; font-size: 9.5pt; background-image: initial; background-position: initial; background-size: initial; background-repeat: initial; background-attachment: initial; background-origin: initial; background-clip: initial; color: rgb(255, 255, 255);">&nbsp;&nbsp;&nbsp;&nbsp;<font face="黑体">app:layout_constraintEnd_toStartOf="@id/vertical_centerline" /&gt;</font></span><span style="font-family: 黑体; letter-spacing: 0pt; font-size: 9.5pt; background-image: initial; background-position: initial; background-size: initial; background-repeat: initial; background-attachment: initial; background-origin: initial; background-clip: initial; color: rgb(255, 255, 255);"><br /></span><span style="font-family: 黑体; letter-spacing: 0pt; font-size: 9.5pt; background-image: initial; background-position: initial; background-size: initial; background-repeat: initial; background-attachment: initial; background-origin: initial; background-clip: initial; color: rgb(255, 255, 255);"><br /></span><span style="font-family: 黑体; letter-spacing: 0pt; font-size: 9.5pt; background-image: initial; background-position: initial; background-size: initial; background-repeat: initial; background-attachment: initial; background-origin: initial; background-clip: initial; color: rgb(255, 255, 255);">&lt;Button</span><span style="font-family: 黑体; letter-spacing: 0pt; font-size: 9.5pt; background-image: initial; background-position: initial; background-size: initial; background-repeat: initial; background-attachment: initial; background-origin: initial; background-clip: initial; color: rgb(255, 255, 255);"><br /></span><span style="font-family: 黑体; letter-spacing: 0pt; font-size: 9.5pt; background-image: initial; background-position: initial; background-size: initial; background-repeat: initial; background-attachment: initial; background-origin: initial; background-clip: initial; color: rgb(255, 255, 255);">&nbsp;&nbsp;&nbsp;&nbsp;<font face="黑体">android:id="@+id/video_capture_button"</font></span><span style="font-family: 黑体; letter-spacing: 0pt; font-size: 9.5pt; background-image: initial; background-position: initial; background-size: initial; background-repeat: initial; background-attachment: initial; background-origin: initial; background-clip: initial; color: rgb(255, 255, 255);"><br /></span><span style="font-family: 黑体; letter-spacing: 0pt; font-size: 9.5pt; background-image: initial; background-position: initial; background-size: initial; background-repeat: initial; background-attachment: initial; background-origin: initial; background-clip: initial; color: rgb(255, 255, 255);">&nbsp;&nbsp;&nbsp;&nbsp;<font face="黑体">android:layout_width="110dp"</font></span><span style="font-family: 黑体; letter-spacing: 0pt; font-size: 9.5pt; background-image: initial; background-position: initial; background-size: initial; background-repeat: initial; background-attachment: initial; background-origin: initial; background-clip: initial; color: rgb(255, 255, 255);"><br /></span><span style="font-family: 黑体; letter-spacing: 0pt; font-size: 9.5pt; background-image: initial; background-position: initial; background-size: initial; background-repeat: initial; background-attachment: initial; background-origin: initial; background-clip: initial; color: rgb(255, 255, 255);">&nbsp;&nbsp;&nbsp;&nbsp;<font face="黑体">android:layout_height="110dp"</font></span><span style="font-family: 黑体; letter-spacing: 0pt; font-size: 9.5pt; background-image: initial; background-position: initial; background-size: initial; background-repeat: initial; background-attachment: initial; background-origin: initial; background-clip: initial; color: rgb(255, 255, 255);"><br /></span><span style="font-family: 黑体; letter-spacing: 0pt; font-size: 9.5pt; background-image: initial; background-position: initial; background-size: initial; background-repeat: initial; background-attachment: initial; background-origin: initial; background-clip: initial; color: rgb(255, 255, 255);">&nbsp;&nbsp;&nbsp;&nbsp;<font face="黑体">android:layout_marginBottom="50dp"</font></span><span style="font-family: 黑体; letter-spacing: 0pt; font-size: 9.5pt; background-image: initial; background-position: initial; background-size: initial; background-repeat: initial; background-attachment: initial; background-origin: initial; background-clip: initial; color: rgb(255, 255, 255);"><br /></span><span style="font-family: 黑体; letter-spacing: 0pt; font-size: 9.5pt; background-image: initial; background-position: initial; background-size: initial; background-repeat: initial; background-attachment: initial; background-origin: initial; background-clip: initial; color: rgb(255, 255, 255);">&nbsp;&nbsp;&nbsp;&nbsp;<font face="黑体">android:layout_marginStart="50dp"</font></span><span style="font-family: 黑体; letter-spacing: 0pt; font-size: 9.5pt; background-image: initial; background-position: initial; background-size: initial; background-repeat: initial; background-attachment: initial; background-origin: initial; background-clip: initial; color: rgb(255, 255, 255);"><br /></span><span style="font-family: 黑体; letter-spacing: 0pt; font-size: 9.5pt; background-image: initial; background-position: initial; background-size: initial; background-repeat: initial; background-attachment: initial; background-origin: initial; background-clip: initial; color: rgb(255, 255, 255);">&nbsp;&nbsp;&nbsp;&nbsp;<font face="黑体">android:elevation="2dp"</font></span><span style="font-family: 黑体; letter-spacing: 0pt; font-size: 9.5pt; background-image: initial; background-position: initial; background-size: initial; background-repeat: initial; background-attachment: initial; background-origin: initial; background-clip: initial; color: rgb(255, 255, 255);"><br /></span><span style="font-family: 黑体; letter-spacing: 0pt; font-size: 9.5pt; background-image: initial; background-position: initial; background-size: initial; background-repeat: initial; background-attachment: initial; background-origin: initial; background-clip: initial; color: rgb(255, 255, 255);">&nbsp;&nbsp;&nbsp;&nbsp;<font face="黑体">android:text="@string/start_capture"</font></span><span style="font-family: 黑体; letter-spacing: 0pt; font-size: 9.5pt; background-image: initial; background-position: initial; background-size: initial; background-repeat: initial; background-attachment: initial; background-origin: initial; background-clip: initial; color: rgb(255, 255, 255);"><br /></span><span style="font-family: 黑体; letter-spacing: 0pt; font-size: 9.5pt; background-image: initial; background-position: initial; background-size: initial; background-repeat: initial; background-attachment: initial; background-origin: initial; background-clip: initial; color: rgb(255, 255, 255);">&nbsp;&nbsp;&nbsp;&nbsp;<font face="黑体">app:layout_constraintBottom_toBottomOf="parent"</font></span><span style="font-family: 黑体; letter-spacing: 0pt; font-size: 9.5pt; background-image: initial; background-position: initial; background-size: initial; background-repeat: initial; background-attachment: initial; background-origin: initial; background-clip: initial; color: rgb(255, 255, 255);"><br /></span><span style="font-family: 黑体; letter-spacing: 0pt; font-size: 9.5pt; background-image: initial; background-position: initial; background-size: initial; background-repeat: initial; background-attachment: initial; background-origin: initial; background-clip: initial; color: rgb(255, 255, 255);">&nbsp;&nbsp;&nbsp;&nbsp;<font face="黑体">app:layout_constraintStart_to</font></span><span style="font-family: System; letter-spacing: 0pt; font-size: 9.5pt; background-image: initial; background-position: initial; background-size: initial; background-repeat: initial; background-attachment: initial; background-origin: initial; background-clip: initial; color: rgb(255, 255, 255);">EndOf="@id/vertical_centerline" /&gt;</span><span style="mso-spacerun:'yes';font-family:宋体;font-size:12.0000pt;
mso-font-kerning:0.0000pt;"><o:p></o:p></span></p><p class="MsoNormal" style="margin: 5pt 0pt;"><span style="font-family: 微软雅黑; letter-spacing: 0pt; font-size: 10.5pt; background-image: initial; background-position: initial; background-size: initial; background-repeat: initial; background-attachment: initial; background-origin: initial; background-clip: initial;">效果图如下</span><span style="mso-spacerun:'yes';font-family:微软雅黑;font-size:10.5000pt;
mso-font-kerning:1.0000pt;"><o:p></o:p></span></p><div><p class="MsoNormal"><img src="https://github.com/itisnotarobot/AndroidProject/blob/main/%E5%AE%9E%E9%AA%8C2_2_%E6%9E%84%E5%BB%BACameraX%E5%BA%94%E7%94%A8/images/pic1.png" /></p><p class="MsoNormal"><span style="font-size: 10.5pt; font-family: &quot;Microsoft Yahei&quot;;">&nbsp;</span></p><p class="MsoNormal"><span style="font-size: 10.5pt; font-family: &quot;Microsoft Yahei&quot;;"><b>关键代码</b><o:p></o:p></span></p><p class="MsoNormal"><span style="font-size: 10.5pt; font-family: &quot;Microsoft Yahei&quot;;">&nbsp;</span></p><p class="MsoNormal" style="margin: 5pt 0pt;"><b><span style="font-family: 黑体; letter-spacing: 0pt; font-size: 10.5pt; background-image: initial; background-position: initial; background-size: initial; background-repeat: initial; background-attachment: initial; background-origin: initial; background-clip: initial;"><font face="黑体">在</font><font face="黑体">Gradle.app中添加CAMERA依赖组件用于支持相机功能的实现</font></span></b><span style="mso-spacerun:'yes';font-family:黑体;font-size:10.5000pt;
mso-font-kerning:1.0000pt;"><o:p></o:p></span></p><p class="pre" style="margin-top:5.0000pt;margin-right:0.0000pt;margin-bottom:5.0000pt;
margin-left:0.0000pt;mso-margin-top-alt:auto;mso-margin-bottom-alt:auto;
mso-pagination:widow-orphan;background:rgb(43,43,43);"><span style="font-family: 黑体; letter-spacing: 0pt; font-size: 9.5pt; background-image: initial; background-position: initial; background-size: initial; background-repeat: initial; background-attachment: initial; background-origin: initial; background-clip: initial; color: rgb(255, 255, 255);">def camerax_version = "1.1.0-beta02"</span><span style="font-family: 黑体; letter-spacing: 0pt; font-size: 9.5pt; background-image: initial; background-position: initial; background-size: initial; background-repeat: initial; background-attachment: initial; background-origin: initial; background-clip: initial; color: rgb(255, 255, 255);"><br /></span><span style="font-family: 黑体; letter-spacing: 0pt; font-size: 9.5pt; background-image: initial; background-position: initial; background-size: initial; background-repeat: initial; background-attachment: initial; background-origin: initial; background-clip: initial; color: rgb(255, 255, 255);">implementation 'androidx.camera:camera-core:1.1.0-beta02'</span><span style="font-family: 黑体; letter-spacing: 0pt; font-size: 9.5pt; background-image: initial; background-position: initial; background-size: initial; background-repeat: initial; background-attachment: initial; background-origin: initial; background-clip: initial; color: rgb(255, 255, 255);"><br /></span><span style="font-family: 黑体; letter-spacing: 0pt; font-size: 9.5pt; background-image: initial; background-position: initial; background-size: initial; background-repeat: initial; background-attachment: initial; background-origin: initial; background-clip: initial; color: rgb(255, 255, 255);">implementation 'androidx.camera:camera-camera2:1.1.0-beta02'</span><span style="font-family: 黑体; letter-spacing: 0pt; font-size: 9.5pt; background-image: initial; background-position: initial; background-size: initial; background-repeat: initial; background-attachment: initial; background-origin: initial; background-clip: initial; color: rgb(255, 255, 255);"><br /></span><span style="font-family: 黑体; letter-spacing: 0pt; font-size: 9.5pt; background-image: initial; background-position: initial; background-size: initial; background-repeat: initial; background-attachment: initial; background-origin: initial; background-clip: initial; color: rgb(255, 255, 255);">implementation "androidx.camera:camera-lifecycle:1.1.0-beta02"</span><span style="font-family: 黑体; letter-spacing: 0pt; font-size: 9.5pt; background-image: initial; background-position: initial; background-size: initial; background-repeat: initial; background-attachment: initial; background-origin: initial; background-clip: initial; color: rgb(255, 255, 255);"><br /></span><span style="font-family: 黑体; letter-spacing: 0pt; font-size: 9.5pt; background-image: initial; background-position: initial; background-size: initial; background-repeat: initial; background-attachment: initial; background-origin: initial; background-clip: initial; color: rgb(255, 255, 255);">implementation "androidx.camera:camera-video:1.1.0-beta02"</span><span style="font-family: 黑体; letter-spacing: 0pt; font-size: 9.5pt; background-image: initial; background-position: initial; background-size: initial; background-repeat: initial; background-attachment: initial; background-origin: initial; background-clip: initial; color: rgb(255, 255, 255);"><br /></span><span style="font-family: 黑体; letter-spacing: 0pt; font-size: 9.5pt; background-image: initial; background-position: initial; background-size: initial; background-repeat: initial; background-attachment: initial; background-origin: initial; background-clip: initial; color: rgb(255, 255, 255);">implementation "androidx.camera:camera-view:1.1.0-beta02"</span><span style="font-family: 黑体; letter-spacing: 0pt; font-size: 9.5pt; background-image: initial; background-position: initial; background-size: initial; background-repeat: initial; background-attachment: initial; background-origin: initial; background-clip: initial; color: rgb(255, 255, 255);"><br /></span><span style="font-family: 黑体; letter-spacing: 0pt; font-size: 9.5pt; background-image: initial; background-position: initial; background-size: initial; background-repeat: initial; background-attachment: initial; background-origin: initial; background-clip: initial; color: rgb(255, 255, 255);">implementation "androidx.camera:camera-extensions:1.1.0-beta02"</span><span style="mso-spacerun:'yes';font-family:宋体;font-size:12.0000pt;
mso-font-kerning:0.0000pt;"><o:p></o:p></span></p><p class="MsoNormal" style="margin: 5pt 0pt;"><b><span style="font-family: 黑体; letter-spacing: 0pt; font-size: 10.5pt; background-image: initial; background-position: initial; background-size: initial; background-repeat: initial; background-attachment: initial; background-origin: initial; background-clip: initial;"><font face="黑体">在</font><font face="黑体">Androidmainfest.xml中添加权限申请</font></span></b><span style="mso-spacerun:'yes';font-family:Calibri;mso-fareast-font-family:宋体;
mso-bidi-font-family:'Times New Roman';font-size:10.5000pt;mso-font-kerning:1.0000pt;"><o:p></o:p></span></p><p class="pre" style="margin-top:5.0000pt;margin-right:0.0000pt;margin-bottom:5.0000pt;
margin-left:0.0000pt;mso-margin-top-alt:auto;mso-margin-bottom-alt:auto;
mso-pagination:widow-orphan;background:rgb(43,43,43);"><span style="font-family: 黑体; letter-spacing: 0pt; font-size: 9.5pt; background-image: initial; background-position: initial; background-size: initial; background-repeat: initial; background-attachment: initial; background-origin: initial; background-clip: initial; color: rgb(255, 255, 255);">&lt;uses-feature android:name="android.hardware.camera.any" /&gt;</span><span style="font-family: 黑体; letter-spacing: 0pt; font-size: 9.5pt; background-image: initial; background-position: initial; background-size: initial; background-repeat: initial; background-attachment: initial; background-origin: initial; background-clip: initial; color: rgb(255, 255, 255);"><br /></span><span style="font-family: 黑体; letter-spacing: 0pt; font-size: 9.5pt; background-image: initial; background-position: initial; background-size: initial; background-repeat: initial; background-attachment: initial; background-origin: initial; background-clip: initial; color: rgb(255, 255, 255);">&lt;uses-permission android:name="android.permission.CAMERA" /&gt;</span><span style="font-family: 黑体; letter-spacing: 0pt; font-size: 9.5pt; background-image: initial; background-position: initial; background-size: initial; background-repeat: initial; background-attachment: initial; background-origin: initial; background-clip: initial; color: rgb(255, 255, 255);"><br /></span><span style="font-family: 黑体; letter-spacing: 0pt; font-size: 9.5pt; background-image: initial; background-position: initial; background-size: initial; background-repeat: initial; background-attachment: initial; background-origin: initial; background-clip: initial; color: rgb(255, 255, 255);">&lt;uses-permission android:name="android.permission.RECORD_AUDIO" /&gt;</span><span style="font-family: 黑体; letter-spacing: 0pt; font-size: 9.5pt; background-image: initial; background-position: initial; background-size: initial; background-repeat: initial; background-attachment: initial; background-origin: initial; background-clip: initial; color: rgb(255, 255, 255);"><br /></span><span style="font-family: 黑体; letter-spacing: 0pt; font-size: 9.5pt; background-image: initial; background-position: initial; background-size: initial; background-repeat: initial; background-attachment: initial; background-origin: initial; background-clip: initial; color: rgb(255, 255, 255);">&lt;uses-permission android:name="android.permission.WRITE_EXTERNAL_STORAGE"</span><span style="font-family: 黑体; letter-spacing: 0pt; font-size: 9.5pt; background-image: initial; background-position: initial; background-size: initial; background-repeat: initial; background-attachment: initial; background-origin: initial; background-clip: initial; color: rgb(255, 255, 255);"><br /></span><span style="font-family: 黑体; letter-spacing: 0pt; font-size: 9.5pt; background-image: initial; background-position: initial; background-size: initial; background-repeat: initial; background-attachment: initial; background-origin: initial; background-clip: initial; color: rgb(255, 255, 255);"><font face="宋体">&nbsp;&nbsp;&nbsp;&nbsp;</font><font face="黑体">android:maxSdkVersion="28" /&gt;</font></span><span style="mso-spacerun:'yes';font-family:宋体;font-size:12.0000pt;
mso-font-kerning:0.0000pt;"><o:p></o:p></span></p><p class="MsoNormal" style="margin: 5pt 0pt;"><b><span style="font-family: 黑体; letter-spacing: 0pt; font-size: 10.5pt; background-image: initial; background-position: initial; background-size: initial; background-repeat: initial; background-attachment: initial; background-origin: initial; background-clip: initial;"><font face="黑体">在</font><font face="黑体">MainActivity.kt中设定startCamera用于启动摄像机</font></span></b><span style="mso-spacerun:'yes';font-family:Calibri;mso-fareast-font-family:宋体;
mso-bidi-font-family:'Times New Roman';font-size:10.5000pt;mso-font-kerning:1.0000pt;"><o:p></o:p></span></p><p class="pre" style="margin-top:5.0000pt;margin-right:0.0000pt;margin-bottom:5.0000pt;
margin-left:0.0000pt;mso-margin-top-alt:auto;mso-margin-bottom-alt:auto;
mso-pagination:widow-orphan;background:rgb(43,43,43);"><span style="font-family: 黑体; letter-spacing: 0pt; font-size: 9.5pt; background-image: initial; background-position: initial; background-size: initial; background-repeat: initial; background-attachment: initial; background-origin: initial; background-clip: initial; color: rgb(255, 255, 255);">private fun startCamera() {</span><span style="font-family: 黑体; letter-spacing: 0pt; font-size: 9.5pt; background-image: initial; background-position: initial; background-size: initial; background-repeat: initial; background-attachment: initial; background-origin: initial; background-clip: initial; color: rgb(255, 255, 255);"><br /></span><span style="font-family: 黑体; letter-spacing: 0pt; font-size: 9.5pt; background-image: initial; background-position: initial; background-size: initial; background-repeat: initial; background-attachment: initial; background-origin: initial; background-clip: initial; color: rgb(255, 255, 255);"><font face="宋体">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</font><font face="黑体">//。创建 ProcessCameraProvider 的实例。这用于将相机的生命周期绑定到生命周期所有者。</font></span><span style="font-family: 黑体; letter-spacing: 0pt; font-size: 9.5pt; background-image: initial; background-position: initial; background-size: initial; background-repeat: initial; background-attachment: initial; background-origin: initial; background-clip: initial; color: rgb(255, 255, 255);"><br /></span><span style="font-family: 黑体; letter-spacing: 0pt; font-size: 9.5pt; background-image: initial; background-position: initial; background-size: initial; background-repeat: initial; background-attachment: initial; background-origin: initial; background-clip: initial; color: rgb(255, 255, 255);"><font face="宋体">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</font><font face="黑体">// 这消除了打开和关闭相机的任务，因为 CameraX 具有生命周期感知能力。</font></span><span style="font-family: 黑体; letter-spacing: 0pt; font-size: 9.5pt; background-image: initial; background-position: initial; background-size: initial; background-repeat: initial; background-attachment: initial; background-origin: initial; background-clip: initial; color: rgb(255, 255, 255);"><br /></span><span style="font-family: 黑体; letter-spacing: 0pt; font-size: 9.5pt; background-image: initial; background-position: initial; background-size: initial; background-repeat: initial; background-attachment: initial; background-origin: initial; background-clip: initial; color: rgb(255, 255, 255);"><font face="宋体">&nbsp;&nbsp;&nbsp;&nbsp;</font><font face="黑体">val cameraProviderFuture = ProcessCameraProvider.getInstance(this)</font></span><span style="font-family: 黑体; letter-spacing: 0pt; font-size: 9.5pt; background-image: initial; background-position: initial; background-size: initial; background-repeat: initial; background-attachment: initial; background-origin: initial; background-clip: initial; color: rgb(255, 255, 255);"><br /></span><span style="font-family: 黑体; letter-spacing: 0pt; font-size: 9.5pt; background-image: initial; background-position: initial; background-size: initial; background-repeat: initial; background-attachment: initial; background-origin: initial; background-clip: initial; color: rgb(255, 255, 255);"><font face="宋体">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</font><font face="黑体">//向 cameraProviderFuture 添加监听器。添加 Runnable 作为一个参数。</font></span><span style="font-family: 黑体; letter-spacing: 0pt; font-size: 9.5pt; background-image: initial; background-position: initial; background-size: initial; background-repeat: initial; background-attachment: initial; background-origin: initial; background-clip: initial; color: rgb(255, 255, 255);"><br /></span><span style="font-family: 黑体; letter-spacing: 0pt; font-size: 9.5pt; background-image: initial; background-position: initial; background-size: initial; background-repeat: initial; background-attachment: initial; background-origin: initial; background-clip: initial; color: rgb(255, 255, 255);"><font face="宋体">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</font><font face="黑体">// 添加 ContextCompat.getMainExecutor() 作为第二个参数。这将返回一个在主线程上运行的 Executor。</font></span><span style="font-family: 黑体; letter-spacing: 0pt; font-size: 9.5pt; background-image: initial; background-position: initial; background-size: initial; background-repeat: initial; background-attachment: initial; background-origin: initial; background-clip: initial; color: rgb(255, 255, 255);"><br /></span><span style="font-family: 黑体; letter-spacing: 0pt; font-size: 9.5pt; background-image: initial; background-position: initial; background-size: initial; background-repeat: initial; background-attachment: initial; background-origin: initial; background-clip: initial; color: rgb(255, 255, 255);"><font face="宋体">&nbsp;&nbsp;&nbsp;&nbsp;</font><font face="黑体">cameraProviderFuture.addListener(</font></span><i><span style="font-family: 黑体; letter-spacing: 0pt; font-size: 9.5pt; background-image: initial; background-position: initial; background-size: initial; background-repeat: initial; background-attachment: initial; background-origin: initial; background-clip: initial; color: rgb(255, 255, 255);">Runnable</span></i><b><span style="font-family: 黑体; letter-spacing: 0pt; font-size: 9.5pt; background-image: initial; background-position: initial; background-size: initial; background-repeat: initial; background-attachment: initial; background-origin: initial; background-clip: initial; color: rgb(255, 255, 255);">{</span></b><b><span style="font-family: 黑体; letter-spacing: 0pt; font-size: 9.5pt; background-image: initial; background-position: initial; background-size: initial; background-repeat: initial; background-attachment: initial; background-origin: initial; background-clip: initial; color: rgb(255, 255, 255);"><br /></span></b><b><span style="font-family: 黑体; letter-spacing: 0pt; font-size: 9.5pt; background-image: initial; background-position: initial; background-size: initial; background-repeat: initial; background-attachment: initial; background-origin: initial; background-clip: initial; color: rgb(255, 255, 255);"><font face="宋体">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</font></span></b><span style="font-family: 黑体; letter-spacing: 0pt; font-size: 9.5pt; background-image: initial; background-position: initial; background-size: initial; background-repeat: initial; background-attachment: initial; background-origin: initial; background-clip: initial; color: rgb(255, 255, 255);">// 添加 ProcessCameraProvider。它用于将相机的生命周期绑定到应用进程中的 LifecycleOwner</span><span style="font-family: 黑体; letter-spacing: 0pt; font-size: 9.5pt; background-image: initial; background-position: initial; background-size: initial; background-repeat: initial; background-attachment: initial; background-origin: initial; background-clip: initial; color: rgb(255, 255, 255);"><br /></span><span style="font-family: 黑体; letter-spacing: 0pt; font-size: 9.5pt; background-image: initial; background-position: initial; background-size: initial; background-repeat: initial; background-attachment: initial; background-origin: initial; background-clip: initial; color: rgb(255, 255, 255);"><font face="宋体">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</font><font face="黑体">val cameraProvider: ProcessCameraProvider = cameraProviderFuture.get()</font></span><span style="font-family: 黑体; letter-spacing: 0pt; font-size: 9.5pt; background-image: initial; background-position: initial; background-size: initial; background-repeat: initial; background-attachment: initial; background-origin: initial; background-clip: initial; color: rgb(255, 255, 255);"><br /></span><span style="font-family: 黑体; letter-spacing: 0pt; font-size: 9.5pt; background-image: initial; background-position: initial; background-size: initial; background-repeat: initial; background-attachment: initial; background-origin: initial; background-clip: initial; color: rgb(255, 255, 255);"><br /></span><span style="font-family: 黑体; letter-spacing: 0pt; font-size: 9.5pt; background-image: initial; background-position: initial; background-size: initial; background-repeat: initial; background-attachment: initial; background-origin: initial; background-clip: initial; color: rgb(255, 255, 255);"><font face="宋体">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</font><font face="黑体">// 初始化 Preview 对象，在其上调用 build，从取景器中获取 Surface 提供程序，然后在预览上进行设置。</font></span><span style="font-family: 黑体; letter-spacing: 0pt; font-size: 9.5pt; background-image: initial; background-position: initial; background-size: initial; background-repeat: initial; background-attachment: initial; background-origin: initial; background-clip: initial; color: rgb(255, 255, 255);"><br /></span><span style="font-family: 黑体; letter-spacing: 0pt; font-size: 9.5pt; background-image: initial; background-position: initial; background-size: initial; background-repeat: initial; background-attachment: initial; background-origin: initial; background-clip: initial; color: rgb(255, 255, 255);"><font face="宋体">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</font><font face="黑体">val preview = Preview.Builder()</font></span><span style="font-family: 黑体; letter-spacing: 0pt; font-size: 9.5pt; background-image: initial; background-position: initial; background-size: initial; background-repeat: initial; background-attachment: initial; background-origin: initial; background-clip: initial; color: rgb(255, 255, 255);"><br /></span><span style="font-family: 黑体; letter-spacing: 0pt; font-size: 9.5pt; background-image: initial; background-position: initial; background-size: initial; background-repeat: initial; background-attachment: initial; background-origin: initial; background-clip: initial; color: rgb(255, 255, 255);"><font face="宋体">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</font><font face="黑体">.build()</font></span><span style="font-family: 黑体; letter-spacing: 0pt; font-size: 9.5pt; background-image: initial; background-position: initial; background-size: initial; background-repeat: initial; background-attachment: initial; background-origin: initial; background-clip: initial; color: rgb(255, 255, 255);"><br /></span><span style="font-family: 黑体; letter-spacing: 0pt; font-size: 9.5pt; background-image: initial; background-position: initial; background-size: initial; background-repeat: initial; background-attachment: initial; background-origin: initial; background-clip: initial; color: rgb(255, 255, 255);"><font face="宋体">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</font><font face="黑体">.</font></span><i><span style="font-family: 黑体; letter-spacing: 0pt; font-size: 9.5pt; background-image: initial; background-position: initial; background-size: initial; background-repeat: initial; background-attachment: initial; background-origin: initial; background-clip: initial; color: rgb(255, 255, 255);"><font face="黑体">also</font><font face="宋体">&nbsp;</font></span></i><b><span style="font-family: 黑体; letter-spacing: 0pt; font-size: 9.5pt; background-image: initial; background-position: initial; background-size: initial; background-repeat: initial; background-attachment: initial; background-origin: initial; background-clip: initial; color: rgb(255, 255, 255);">{</span></b><b><span style="font-family: 黑体; letter-spacing: 0pt; font-size: 9.5pt; background-image: initial; background-position: initial; background-size: initial; background-repeat: initial; background-attachment: initial; background-origin: initial; background-clip: initial; color: rgb(255, 255, 255);"><br /></span></b><b><span style="font-family: 黑体; letter-spacing: 0pt; font-size: 9.5pt; background-image: initial; background-position: initial; background-size: initial; background-repeat: initial; background-attachment: initial; background-origin: initial; background-clip: initial; color: rgb(255, 255, 255);"><font face="宋体">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</font><font face="黑体">it</font></span></b><span style="font-family: 黑体; letter-spacing: 0pt; font-size: 9.5pt; background-image: initial; background-position: initial; background-size: initial; background-repeat: initial; background-attachment: initial; background-origin: initial; background-clip: initial; color: rgb(255, 255, 255);">.setSurfaceProvider(viewBinding.viewFinder.</span><i><span style="font-family: 黑体; letter-spacing: 0pt; font-size: 9.5pt; background-image: initial; background-position: initial; background-size: initial; background-repeat: initial; background-attachment: initial; background-origin: initial; background-clip: initial; color: rgb(255, 255, 255);">surfaceProvider</span></i><span style="font-family: 黑体; letter-spacing: 0pt; font-size: 9.5pt; background-image: initial; background-position: initial; background-size: initial; background-repeat: initial; background-attachment: initial; background-origin: initial; background-clip: initial; color: rgb(255, 255, 255);">)</span><span style="font-family: 黑体; letter-spacing: 0pt; font-size: 9.5pt; background-image: initial; background-position: initial; background-size: initial; background-repeat: initial; background-attachment: initial; background-origin: initial; background-clip: initial; color: rgb(255, 255, 255);"><br /></span><span style="font-family: 黑体; letter-spacing: 0pt; font-size: 9.5pt; background-image: initial; background-position: initial; background-size: initial; background-repeat: initial; background-attachment: initial; background-origin: initial; background-clip: initial; color: rgb(255, 255, 255);"><font face="宋体">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</font></span><b><span style="font-family: 黑体; letter-spacing: 0pt; font-size: 9.5pt; background-image: initial; background-position: initial; background-size: initial; background-repeat: initial; background-attachment: initial; background-origin: initial; background-clip: initial; color: rgb(255, 255, 255);">}</span></b><b><span style="font-family: 黑体; letter-spacing: 0pt; font-size: 9.5pt; background-image: initial; background-position: initial; background-size: initial; background-repeat: initial; background-attachment: initial; background-origin: initial; background-clip: initial; color: rgb(255, 255, 255);"><br /></span></b><b><span style="font-family: 黑体; letter-spacing: 0pt; font-size: 9.5pt; background-image: initial; background-position: initial; background-size: initial; background-repeat: initial; background-attachment: initial; background-origin: initial; background-clip: initial; color: rgb(255, 255, 255);"><font face="宋体">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</font></span></b><span style="font-family: 黑体; letter-spacing: 0pt; font-size: 9.5pt; background-image: initial; background-position: initial; background-size: initial; background-repeat: initial; background-attachment: initial; background-origin: initial; background-clip: initial; color: rgb(255, 255, 255);">//创建 VideoCapture 用例</span><span style="font-family: 黑体; letter-spacing: 0pt; font-size: 9.5pt; background-image: initial; background-position: initial; background-size: initial; background-repeat: initial; background-attachment: initial; background-origin: initial; background-clip: initial; color: rgb(255, 255, 255);"><br /></span><span style="font-family: 黑体; letter-spacing: 0pt; font-size: 9.5pt; background-image: initial; background-position: initial; background-size: initial; background-repeat: initial; background-attachment: initial; background-origin: initial; background-clip: initial; color: rgb(255, 255, 255);"><font face="宋体">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</font><font face="黑体">val recorder = Recorder.Builder()</font></span><span style="font-family: 黑体; letter-spacing: 0pt; font-size: 9.5pt; background-image: initial; background-position: initial; background-size: initial; background-repeat: initial; background-attachment: initial; background-origin: initial; background-clip: initial; color: rgb(255, 255, 255);"><br /></span><span style="font-family: 黑体; letter-spacing: 0pt; font-size: 9.5pt; background-image: initial; background-position: initial; background-size: initial; background-repeat: initial; background-attachment: initial; background-origin: initial; background-clip: initial; color: rgb(255, 255, 255);"><font face="宋体">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</font><font face="黑体">.setQualitySelector(QualitySelector.from(Quality.</font></span><i><span style="font-family: 黑体; letter-spacing: 0pt; font-size: 9.5pt; background-image: initial; background-position: initial; background-size: initial; background-repeat: initial; background-attachment: initial; background-origin: initial; background-clip: initial; color: rgb(255, 255, 255);">HIGHEST</span></i><span style="font-family: 黑体; letter-spacing: 0pt; font-size: 9.5pt; background-image: initial; background-position: initial; background-size: initial; background-repeat: initial; background-attachment: initial; background-origin: initial; background-clip: initial; color: rgb(255, 255, 255);">))</span><span style="font-family: 黑体; letter-spacing: 0pt; font-size: 9.5pt; background-image: initial; background-position: initial; background-size: initial; background-repeat: initial; background-attachment: initial; background-origin: initial; background-clip: initial; color: rgb(255, 255, 255);"><br /></span><span style="font-family: 黑体; letter-spacing: 0pt; font-size: 9.5pt; background-image: initial; background-position: initial; background-size: initial; background-repeat: initial; background-attachment: initial; background-origin: initial; background-clip: initial; color: rgb(255, 255, 255);"><font face="宋体">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</font><font face="黑体">.build()</font></span><span style="font-family: 黑体; letter-spacing: 0pt; font-size: 9.5pt; background-image: initial; background-position: initial; background-size: initial; background-repeat: initial; background-attachment: initial; background-origin: initial; background-clip: initial; color: rgb(255, 255, 255);"><br /></span><span style="font-family: 黑体; letter-spacing: 0pt; font-size: 9.5pt; background-image: initial; background-position: initial; background-size: initial; background-repeat: initial; background-attachment: initial; background-origin: initial; background-clip: initial; color: rgb(255, 255, 255);"><font face="宋体">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</font><font face="黑体">videoCapture = VideoCapture.withOutput(recorder)</font></span><span style="font-family: 黑体; letter-spacing: 0pt; font-size: 9.5pt; background-image: initial; background-position: initial; background-size: initial; background-repeat: initial; background-attachment: initial; background-origin: initial; background-clip: initial; color: rgb(255, 255, 255);"><br /></span><span style="font-family: 黑体; letter-spacing: 0pt; font-size: 9.5pt; background-image: initial; background-position: initial; background-size: initial; background-repeat: initial; background-attachment: initial; background-origin: initial; background-clip: initial; color: rgb(255, 255, 255);"><br /></span><span style="font-family: 黑体; letter-spacing: 0pt; font-size: 9.5pt; background-image: initial; background-position: initial; background-size: initial; background-repeat: initial; background-attachment: initial; background-origin: initial; background-clip: initial; color: rgb(255, 255, 255);"><font face="宋体">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</font><font face="黑体">imageCapture = ImageCapture.Builder()</font></span><span style="font-family: 黑体; letter-spacing: 0pt; font-size: 9.5pt; background-image: initial; background-position: initial; background-size: initial; background-repeat: initial; background-attachment: initial; background-origin: initial; background-clip: initial; color: rgb(255, 255, 255);"><br /></span><span style="font-family: 黑体; letter-spacing: 0pt; font-size: 9.5pt; background-image: initial; background-position: initial; background-size: initial; background-repeat: initial; background-attachment: initial; background-origin: initial; background-clip: initial; color: rgb(255, 255, 255);"><font face="宋体">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</font><font face="黑体">.build()</font></span><span style="font-family: 黑体; letter-spacing: 0pt; font-size: 9.5pt; background-image: initial; background-position: initial; background-size: initial; background-repeat: initial; background-attachment: initial; background-origin: initial; background-clip: initial; color: rgb(255, 255, 255);"><br /></span><span style="font-family: 黑体; letter-spacing: 0pt; font-size: 9.5pt; background-image: initial; background-position: initial; background-size: initial; background-repeat: initial; background-attachment: initial; background-origin: initial; background-clip: initial; color: rgb(255, 255, 255);"><br /></span><span style="font-family: 黑体; letter-spacing: 0pt; font-size: 9.5pt; background-image: initial; background-position: initial; background-size: initial; background-repeat: initial; background-attachment: initial; background-origin: initial; background-clip: initial; color: rgb(255, 255, 255);"><font face="宋体">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</font><font face="黑体">val imageAnalyzer = ImageAnalysis.Builder()</font></span><span style="font-family: 黑体; letter-spacing: 0pt; font-size: 9.5pt; background-image: initial; background-position: initial; background-size: initial; background-repeat: initial; background-attachment: initial; background-origin: initial; background-clip: initial; color: rgb(255, 255, 255);"><br /></span><span style="font-family: 黑体; letter-spacing: 0pt; font-size: 9.5pt; background-image: initial; background-position: initial; background-size: initial; background-repeat: initial; background-attachment: initial; background-origin: initial; background-clip: initial; color: rgb(255, 255, 255);"><font face="宋体">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</font><font face="黑体">.build()</font></span><span style="font-family: 黑体; letter-spacing: 0pt; font-size: 9.5pt; background-image: initial; background-position: initial; background-size: initial; background-repeat: initial; background-attachment: initial; background-origin: initial; background-clip: initial; color: rgb(255, 255, 255);"><br /></span><span style="font-family: 黑体; letter-spacing: 0pt; font-size: 9.5pt; background-image: initial; background-position: initial; background-size: initial; background-repeat: initial; background-attachment: initial; background-origin: initial; background-clip: initial; color: rgb(255, 255, 255);"><font face="宋体">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</font><font face="黑体">.</font></span><i><span style="font-family: 黑体; letter-spacing: 0pt; font-size: 9.5pt; background-image: initial; background-position: initial; background-size: initial; background-repeat: initial; background-attachment: initial; background-origin: initial; background-clip: initial; color: rgb(255, 255, 255);"><font face="黑体">also</font><font face="宋体">&nbsp;</font></span></i><b><span style="font-family: 黑体; letter-spacing: 0pt; font-size: 9.5pt; background-image: initial; background-position: initial; background-size: initial; background-repeat: initial; background-attachment: initial; background-origin: initial; background-clip: initial; color: rgb(255, 255, 255);">{</span></b><b><span style="font-family: 黑体; letter-spacing: 0pt; font-size: 9.5pt; background-image: initial; background-position: initial; background-size: initial; background-repeat: initial; background-attachment: initial; background-origin: initial; background-clip: initial; color: rgb(255, 255, 255);"><br /></span></b><b><span style="font-family: 黑体; letter-spacing: 0pt; font-size: 9.5pt; background-image: initial; background-position: initial; background-size: initial; background-repeat: initial; background-attachment: initial; background-origin: initial; background-clip: initial; color: rgb(255, 255, 255);"><font face="宋体">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</font><font face="黑体">it</font></span></b><span style="font-family: 黑体; letter-spacing: 0pt; font-size: 9.5pt; background-image: initial; background-position: initial; background-size: initial; background-repeat: initial; background-attachment: initial; background-origin: initial; background-clip: initial; color: rgb(255, 255, 255);"><font face="黑体">.setAnalyzer(cameraExecutor, LuminosityAnalyzer</font><font face="宋体">&nbsp;</font></span><b><span style="font-family: 黑体; letter-spacing: 0pt; font-size: 9.5pt; background-image: initial; background-position: initial; background-size: initial; background-repeat: initial; background-attachment: initial; background-origin: initial; background-clip: initial; color: rgb(255, 255, 255);"><font face="黑体">{</font><font face="宋体">&nbsp;</font></span></b><span style="font-family: 黑体; letter-spacing: 0pt; font-size: 9.5pt; background-image: initial; background-position: initial; background-size: initial; background-repeat: initial; background-attachment: initial; background-origin: initial; background-clip: initial; color: rgb(255, 255, 255);"><font face="黑体">luma</font><font face="宋体">&nbsp;</font></span><b><span style="font-family: 黑体; letter-spacing: 0pt; font-size: 9.5pt; background-image: initial; background-position: initial; background-size: initial; background-repeat: initial; background-attachment: initial; background-origin: initial; background-clip: initial; color: rgb(255, 255, 255);">-&gt;</span></b><b><span style="font-family: 黑体; letter-spacing: 0pt; font-size: 9.5pt; background-image: initial; background-position: initial; background-size: initial; background-repeat: initial; background-attachment: initial; background-origin: initial; background-clip: initial; color: rgb(255, 255, 255);"><br /></span></b><b><span style="font-family: 黑体; letter-spacing: 0pt; font-size: 9.5pt; background-image: initial; background-position: initial; background-size: initial; background-repeat: initial; background-attachment: initial; background-origin: initial; background-clip: initial; color: rgb(255, 255, 255);"><font face="宋体">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</font></span></b><span style="font-family: 黑体; letter-spacing: 0pt; font-size: 9.5pt; background-image: initial; background-position: initial; background-size: initial; background-repeat: initial; background-attachment: initial; background-origin: initial; background-clip: initial; color: rgb(255, 255, 255);">Log.d(TAG, "Average luminosity: $luma")</span><span style="font-family: 黑体; letter-spacing: 0pt; font-size: 9.5pt; background-image: initial; background-position: initial; background-size: initial; background-repeat: initial; background-attachment: initial; background-origin: initial; background-clip: initial; color: rgb(255, 255, 255);"><br /></span><span style="font-family: 黑体; letter-spacing: 0pt; font-size: 9.5pt; background-image: initial; background-position: initial; background-size: initial; background-repeat: initial; background-attachment: initial; background-origin: initial; background-clip: initial; color: rgb(255, 255, 255);"><font face="宋体">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</font></span><b><span style="font-family: 黑体; letter-spacing: 0pt; font-size: 9.5pt; background-image: initial; background-position: initial; background-size: initial; background-repeat: initial; background-attachment: initial; background-origin: initial; background-clip: initial; color: rgb(255, 255, 255);">}</span></b><span style="font-family: 黑体; letter-spacing: 0pt; font-size: 9.5pt; background-image: initial; background-position: initial; background-size: initial; background-repeat: initial; background-attachment: initial; background-origin: initial; background-clip: initial; color: rgb(255, 255, 255);">)</span><span style="font-family: 黑体; letter-spacing: 0pt; font-size: 9.5pt; background-image: initial; background-position: initial; background-size: initial; background-repeat: initial; background-attachment: initial; background-origin: initial; background-clip: initial; color: rgb(255, 255, 255);"><br /></span><span style="font-family: 黑体; letter-spacing: 0pt; font-size: 9.5pt; background-image: initial; background-position: initial; background-size: initial; background-repeat: initial; background-attachment: initial; background-origin: initial; background-clip: initial; color: rgb(255, 255, 255);"><font face="宋体">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</font></span><b><span style="font-family: 黑体; letter-spacing: 0pt; font-size: 9.5pt; background-image: initial; background-position: initial; background-size: initial; background-repeat: initial; background-attachment: initial; background-origin: initial; background-clip: initial; color: rgb(255, 255, 255);">}</span></b><b><span style="font-family: 黑体; letter-spacing: 0pt; font-size: 9.5pt; background-image: initial; background-position: initial; background-size: initial; background-repeat: initial; background-attachment: initial; background-origin: initial; background-clip: initial; color: rgb(255, 255, 255);"><br /></span></b><b><span style="font-family: 黑体; letter-spacing: 0pt; font-size: 9.5pt; background-image: initial; background-position: initial; background-size: initial; background-repeat: initial; background-attachment: initial; background-origin: initial; background-clip: initial; color: rgb(255, 255, 255);"><br /></span></b><b><span style="font-family: 黑体; letter-spacing: 0pt; font-size: 9.5pt; background-image: initial; background-position: initial; background-size: initial; background-repeat: initial; background-attachment: initial; background-origin: initial; background-clip: initial; color: rgb(255, 255, 255);"><font face="宋体">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</font></span></b><span style="font-family: 黑体; letter-spacing: 0pt; font-size: 9.5pt; background-image: initial; background-position: initial; background-size: initial; background-repeat: initial; background-attachment: initial; background-origin: initial; background-clip: initial; color: rgb(255, 255, 255);">// 创建 CameraSelector 对象，然后选择 DEFAULT_BACK_CAMERA。</span><span style="font-family: 黑体; letter-spacing: 0pt; font-size: 9.5pt; background-image: initial; background-position: initial; background-size: initial; background-repeat: initial; background-attachment: initial; background-origin: initial; background-clip: initial; color: rgb(255, 255, 255);"><br /></span><span style="font-family: 黑体; letter-spacing: 0pt; font-size: 9.5pt; background-image: initial; background-position: initial; background-size: initial; background-repeat: initial; background-attachment: initial; background-origin: initial; background-clip: initial; color: rgb(255, 255, 255);"><font face="宋体">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</font><font face="黑体">val cameraSelector = CameraSelector.</font></span><i><span style="font-family: 黑体; letter-spacing: 0pt; font-size: 9.5pt; background-image: initial; background-position: initial; background-size: initial; background-repeat: initial; background-attachment: initial; background-origin: initial; background-clip: initial; color: rgb(255, 255, 255);">DEFAULT_BACK_CAMERA</span></i><i><span style="font-family: 黑体; letter-spacing: 0pt; font-size: 9.5pt; background-image: initial; background-position: initial; background-size: initial; background-repeat: initial; background-attachment: initial; background-origin: initial; background-clip: initial; color: rgb(255, 255, 255);"><br /></span></i><i><span style="font-family: 黑体; letter-spacing: 0pt; font-size: 9.5pt; background-image: initial; background-position: initial; background-size: initial; background-repeat: initial; background-attachment: initial; background-origin: initial; background-clip: initial; color: rgb(255, 255, 255);"><br /></span></i><i><span style="font-family: 黑体; letter-spacing: 0pt; font-size: 9.5pt; background-image: initial; background-position: initial; background-size: initial; background-repeat: initial; background-attachment: initial; background-origin: initial; background-clip: initial; color: rgb(255, 255, 255);"><font face="宋体">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</font></span></i><span style="font-family: 黑体; letter-spacing: 0pt; font-size: 9.5pt; background-image: initial; background-position: initial; background-size: initial; background-repeat: initial; background-attachment: initial; background-origin: initial; background-clip: initial; color: rgb(255, 255, 255);">try {</span><span style="font-family: 黑体; letter-spacing: 0pt; font-size: 9.5pt; background-image: initial; background-position: initial; background-size: initial; background-repeat: initial; background-attachment: initial; background-origin: initial; background-clip: initial; color: rgb(255, 255, 255);"><br /></span><span style="font-family: 黑体; letter-spacing: 0pt; font-size: 9.5pt; background-image: initial; background-position: initial; background-size: initial; background-repeat: initial; background-attachment: initial; background-origin: initial; background-clip: initial; color: rgb(255, 255, 255);"><font face="宋体">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</font><font face="黑体">// Unbind use cases before rebinding</font></span><span style="font-family: 黑体; letter-spacing: 0pt; font-size: 9.5pt; background-image: initial; background-position: initial; background-size: initial; background-repeat: initial; background-attachment: initial; background-origin: initial; background-clip: initial; color: rgb(255, 255, 255);"><br /></span><span style="font-family: 黑体; letter-spacing: 0pt; font-size: 9.5pt; background-image: initial; background-position: initial; background-size: initial; background-repeat: initial; background-attachment: initial; background-origin: initial; background-clip: initial; color: rgb(255, 255, 255);"><font face="宋体">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</font><font face="黑体">cameraProvider.unbindAll()</font></span><span style="font-family: 黑体; letter-spacing: 0pt; font-size: 9.5pt; background-image: initial; background-position: initial; background-size: initial; background-repeat: initial; background-attachment: initial; background-origin: initial; background-clip: initial; color: rgb(255, 255, 255);"><br /></span><span style="font-family: 黑体; letter-spacing: 0pt; font-size: 9.5pt; background-image: initial; background-position: initial; background-size: initial; background-repeat: initial; background-attachment: initial; background-origin: initial; background-clip: initial; color: rgb(255, 255, 255);"><br /></span><span style="font-family: 黑体; letter-spacing: 0pt; font-size: 9.5pt; background-image: initial; background-position: initial; background-size: initial; background-repeat: initial; background-attachment: initial; background-origin: initial; background-clip: initial; color: rgb(255, 255, 255);"><font face="宋体">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</font><font face="黑体">// Bind use cases to camera</font></span><span style="font-family: 黑体; letter-spacing: 0pt; font-size: 9.5pt; background-image: initial; background-position: initial; background-size: initial; background-repeat: initial; background-attachment: initial; background-origin: initial; background-clip: initial; color: rgb(255, 255, 255);"><br /></span><span style="font-family: 黑体; letter-spacing: 0pt; font-size: 9.5pt; background-image: initial; background-position: initial; background-size: initial; background-repeat: initial; background-attachment: initial; background-origin: initial; background-clip: initial; color: rgb(255, 255, 255);"><font face="宋体">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</font><font face="黑体">cameraProvider.bindToLifecycle(this, cameraSelector, preview,imageCapture, videoCapture)</font></span><span style="font-family: 黑体; letter-spacing: 0pt; font-size: 9.5pt; background-image: initial; background-position: initial; background-size: initial; background-repeat: initial; background-attachment: initial; background-origin: initial; background-clip: initial; color: rgb(255, 255, 255);"><br /></span><span style="font-family: 黑体; letter-spacing: 0pt; font-size: 9.5pt; background-image: initial; background-position: initial; background-size: initial; background-repeat: initial; background-attachment: initial; background-origin: initial; background-clip: initial; color: rgb(255, 255, 255);"><br /></span><span style="font-family: 黑体; letter-spacing: 0pt; font-size: 9.5pt; background-image: initial; background-position: initial; background-size: initial; background-repeat: initial; background-attachment: initial; background-origin: initial; background-clip: initial; color: rgb(255, 255, 255);"><font face="宋体">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</font><font face="黑体">} catch(exc: Exception) {</font></span><span style="font-family: 黑体; letter-spacing: 0pt; font-size: 9.5pt; background-image: initial; background-position: initial; background-size: initial; background-repeat: initial; background-attachment: initial; background-origin: initial; background-clip: initial; color: rgb(255, 255, 255);"><br /></span><span style="font-family: 黑体; letter-spacing: 0pt; font-size: 9.5pt; background-image: initial; background-position: initial; background-size: initial; background-repeat: initial; background-attachment: initial; background-origin: initial; background-clip: initial; color: rgb(255, 255, 255);"><font face="宋体">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</font><font face="黑体">Log.e(TAG, "Use case binding failed", exc)</font></span><span style="font-family: 黑体; letter-spacing: 0pt; font-size: 9.5pt; background-image: initial; background-position: initial; background-size: initial; background-repeat: initial; background-attachment: initial; background-origin: initial; background-clip: initial; color: rgb(255, 255, 255);"><br /></span><span style="font-family: 黑体; letter-spacing: 0pt; font-size: 9.5pt; background-image: initial; background-position: initial; background-size: initial; background-repeat: initial; background-attachment: initial; background-origin: initial; background-clip: initial; color: rgb(255, 255, 255);"><font face="宋体">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</font><font face="黑体">}</font></span><span style="font-family: 黑体; letter-spacing: 0pt; font-size: 9.5pt; background-image: initial; background-position: initial; background-size: initial; background-repeat: initial; background-attachment: initial; background-origin: initial; background-clip: initial; color: rgb(255, 255, 255);"><br /></span><span style="font-family: 黑体; letter-spacing: 0pt; font-size: 9.5pt; background-image: initial; background-position: initial; background-size: initial; background-repeat: initial; background-attachment: initial; background-origin: initial; background-clip: initial; color: rgb(255, 255, 255);"><br /></span><span style="font-family: 黑体; letter-spacing: 0pt; font-size: 9.5pt; background-image: initial; background-position: initial; background-size: initial; background-repeat: initial; background-attachment: initial; background-origin: initial; background-clip: initial; color: rgb(255, 255, 255);"><font face="宋体">&nbsp;&nbsp;&nbsp;&nbsp;</font></span><b><span style="font-family: 黑体; letter-spacing: 0pt; font-size: 9.5pt; background-image: initial; background-position: initial; background-size: initial; background-repeat: initial; background-attachment: initial; background-origin: initial; background-clip: initial; color: rgb(255, 255, 255);">}</span></b><span style="font-family: 黑体; letter-spacing: 0pt; font-size: 9.5pt; background-image: initial; background-position: initial; background-size: initial; background-repeat: initial; background-attachment: initial; background-origin: initial; background-clip: initial; color: rgb(255, 255, 255);">, ContextCompat.getMainExecutor(this))</span><span style="font-family: 黑体; letter-spacing: 0pt; font-size: 9.5pt; background-image: initial; background-position: initial; background-size: initial; background-repeat: initial; background-attachment: initial; background-origin: initial; background-clip: initial; color: rgb(255, 255, 255);"><br /></span><span style="font-family: 黑体; letter-spacing: 0pt; font-size: 9.5pt; background-image: initial; background-position: initial; background-size: initial; background-repeat: initial; background-attachment: initial; background-origin: initial; background-clip: initial; color: rgb(255, 255, 255);">}</span><span style="mso-spacerun:'yes';font-family:宋体;font-size:12.0000pt;
mso-font-kerning:0.0000pt;"><o:p></o:p></span></p><p class="MsoNormal" style="margin: 5pt 0pt;"><span style="mso-spacerun:'yes';font-family:Calibri;mso-fareast-font-family:宋体;
mso-bidi-font-family:'Times New Roman';font-size:10.5000pt;mso-font-kerning:1.0000pt;">&nbsp;</span></p><p class="MsoNormal" style="margin: 5pt 0pt;"><b><span style="font-family: 黑体; letter-spacing: 0pt; font-size: 10.5pt; background-image: initial; background-position: initial; background-size: initial; background-repeat: initial; background-attachment: initial; background-origin: initial; background-clip: initial;"><font face="黑体">在</font><font face="黑体">MainActivity.kt中设定takePhoto用于拍照</font></span></b><span style="mso-spacerun:'yes';font-family:Calibri;mso-fareast-font-family:宋体;
mso-bidi-font-family:'Times New Roman';font-size:10.5000pt;mso-font-kerning:1.0000pt;"><o:p></o:p></span></p><p class="pre" style="margin-top:5.0000pt;margin-right:0.0000pt;margin-bottom:5.0000pt;
margin-left:0.0000pt;mso-margin-top-alt:auto;mso-margin-bottom-alt:auto;
mso-pagination:widow-orphan;background:rgb(43,43,43);"><span style="font-family: 黑体; letter-spacing: 0pt; font-size: 9.5pt; background-image: initial; background-position: initial; background-size: initial; background-repeat: initial; background-attachment: initial; background-origin: initial; background-clip: initial; color: rgb(255, 255, 255);">private fun takePhoto() {</span><span style="font-family: 黑体; letter-spacing: 0pt; font-size: 9.5pt; background-image: initial; background-position: initial; background-size: initial; background-repeat: initial; background-attachment: initial; background-origin: initial; background-clip: initial; color: rgb(255, 255, 255);"><br /></span><span style="font-family: 黑体; letter-spacing: 0pt; font-size: 9.5pt; background-image: initial; background-position: initial; background-size: initial; background-repeat: initial; background-attachment: initial; background-origin: initial; background-clip: initial; color: rgb(255, 255, 255);"><font face="宋体">&nbsp;&nbsp;&nbsp;&nbsp;</font><font face="黑体">// 如果用例为 null，退出函数。如果在设置图片拍摄之前点按“photo”按钮，它将为 null。</font></span><span style="font-family: 黑体; letter-spacing: 0pt; font-size: 9.5pt; background-image: initial; background-position: initial; background-size: initial; background-repeat: initial; background-attachment: initial; background-origin: initial; background-clip: initial; color: rgb(255, 255, 255);"><br /></span><span style="font-family: 黑体; letter-spacing: 0pt; font-size: 9.5pt; background-image: initial; background-position: initial; background-size: initial; background-repeat: initial; background-attachment: initial; background-origin: initial; background-clip: initial; color: rgb(255, 255, 255);"><font face="宋体">&nbsp;&nbsp;&nbsp;&nbsp;</font><font face="黑体">// 如果没有 return 语句，应用会在该用例为 null 时崩溃</font></span><span style="font-family: 黑体; letter-spacing: 0pt; font-size: 9.5pt; background-image: initial; background-position: initial; background-size: initial; background-repeat: initial; background-attachment: initial; background-origin: initial; background-clip: initial; color: rgb(255, 255, 255);"><br /></span><span style="font-family: 黑体; letter-spacing: 0pt; font-size: 9.5pt; background-image: initial; background-position: initial; background-size: initial; background-repeat: initial; background-attachment: initial; background-origin: initial; background-clip: initial; color: rgb(255, 255, 255);"><font face="宋体">&nbsp;&nbsp;&nbsp;&nbsp;</font><font face="黑体">val imageCapture = imageCapture ?: return</font></span><span style="font-family: 黑体; letter-spacing: 0pt; font-size: 9.5pt; background-image: initial; background-position: initial; background-size: initial; background-repeat: initial; background-attachment: initial; background-origin: initial; background-clip: initial; color: rgb(255, 255, 255);"><br /></span><span style="font-family: 黑体; letter-spacing: 0pt; font-size: 9.5pt; background-image: initial; background-position: initial; background-size: initial; background-repeat: initial; background-attachment: initial; background-origin: initial; background-clip: initial; color: rgb(255, 255, 255);"><br /></span><span style="font-family: 黑体; letter-spacing: 0pt; font-size: 9.5pt; background-image: initial; background-position: initial; background-size: initial; background-repeat: initial; background-attachment: initial; background-origin: initial; background-clip: initial; color: rgb(255, 255, 255);"><font face="宋体">&nbsp;&nbsp;&nbsp;&nbsp;</font><font face="黑体">// 创建用于保存图片的 MediaStore 内容值。使用时间戳，确保 MediaStore 中的显示名是唯一的</font></span><span style="font-family: 黑体; letter-spacing: 0pt; font-size: 9.5pt; background-image: initial; background-position: initial; background-size: initial; background-repeat: initial; background-attachment: initial; background-origin: initial; background-clip: initial; color: rgb(255, 255, 255);"><br /></span><span style="font-family: 黑体; letter-spacing: 0pt; font-size: 9.5pt; background-image: initial; background-position: initial; background-size: initial; background-repeat: initial; background-attachment: initial; background-origin: initial; background-clip: initial; color: rgb(255, 255, 255);"><font face="宋体">&nbsp;&nbsp;&nbsp;&nbsp;</font><font face="黑体">val name = SimpleDateFormat(FILENAME_FORMAT, Locale.</font></span><i><span style="font-family: 黑体; letter-spacing: 0pt; font-size: 9.5pt; background-image: initial; background-position: initial; background-size: initial; background-repeat: initial; background-attachment: initial; background-origin: initial; background-clip: initial; color: rgb(255, 255, 255);">US</span></i><span style="font-family: 黑体; letter-spacing: 0pt; font-size: 9.5pt; background-image: initial; background-position: initial; background-size: initial; background-repeat: initial; background-attachment: initial; background-origin: initial; background-clip: initial; color: rgb(255, 255, 255);">)</span><span style="font-family: 黑体; letter-spacing: 0pt; font-size: 9.5pt; background-image: initial; background-position: initial; background-size: initial; background-repeat: initial; background-attachment: initial; background-origin: initial; background-clip: initial; color: rgb(255, 255, 255);"><br /></span><span style="font-family: 黑体; letter-spacing: 0pt; font-size: 9.5pt; background-image: initial; background-position: initial; background-size: initial; background-repeat: initial; background-attachment: initial; background-origin: initial; background-clip: initial; color: rgb(255, 255, 255);"><font face="宋体">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</font><font face="黑体">.format(System.currentTimeMillis())</font></span><span style="font-family: 黑体; letter-spacing: 0pt; font-size: 9.5pt; background-image: initial; background-position: initial; background-size: initial; background-repeat: initial; background-attachment: initial; background-origin: initial; background-clip: initial; color: rgb(255, 255, 255);"><br /></span><span style="font-family: 黑体; letter-spacing: 0pt; font-size: 9.5pt; background-image: initial; background-position: initial; background-size: initial; background-repeat: initial; background-attachment: initial; background-origin: initial; background-clip: initial; color: rgb(255, 255, 255);"><font face="宋体">&nbsp;&nbsp;&nbsp;&nbsp;</font><font face="黑体">val contentValues = ContentValues().</font></span><i><span style="font-family: 黑体; letter-spacing: 0pt; font-size: 9.5pt; background-image: initial; background-position: initial; background-size: initial; background-repeat: initial; background-attachment: initial; background-origin: initial; background-clip: initial; color: rgb(255, 255, 255);"><font face="黑体">apply</font><font face="宋体">&nbsp;</font></span></i><b><span style="font-family: 黑体; letter-spacing: 0pt; font-size: 9.5pt; background-image: initial; background-position: initial; background-size: initial; background-repeat: initial; background-attachment: initial; background-origin: initial; background-clip: initial; color: rgb(255, 255, 255);">{</span></b><b><span style="font-family: 黑体; letter-spacing: 0pt; font-size: 9.5pt; background-image: initial; background-position: initial; background-size: initial; background-repeat: initial; background-attachment: initial; background-origin: initial; background-clip: initial; color: rgb(255, 255, 255);"><br /></span></b><b><span style="font-family: 黑体; letter-spacing: 0pt; font-size: 9.5pt; background-image: initial; background-position: initial; background-size: initial; background-repeat: initial; background-attachment: initial; background-origin: initial; background-clip: initial; color: rgb(255, 255, 255);"><font face="宋体">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</font></span></b><span style="font-family: 黑体; letter-spacing: 0pt; font-size: 9.5pt; background-image: initial; background-position: initial; background-size: initial; background-repeat: initial; background-attachment: initial; background-origin: initial; background-clip: initial; color: rgb(255, 255, 255);">put(MediaStore.MediaColumns.</span><i><span style="font-family: 黑体; letter-spacing: 0pt; font-size: 9.5pt; background-image: initial; background-position: initial; background-size: initial; background-repeat: initial; background-attachment: initial; background-origin: initial; background-clip: initial; color: rgb(255, 255, 255);">DISPLAY_NAME</span></i><span style="font-family: 黑体; letter-spacing: 0pt; font-size: 9.5pt; background-image: initial; background-position: initial; background-size: initial; background-repeat: initial; background-attachment: initial; background-origin: initial; background-clip: initial; color: rgb(255, 255, 255);">, name)</span><span style="font-family: 黑体; letter-spacing: 0pt; font-size: 9.5pt; background-image: initial; background-position: initial; background-size: initial; background-repeat: initial; background-attachment: initial; background-origin: initial; background-clip: initial; color: rgb(255, 255, 255);"><br /></span><span style="font-family: 黑体; letter-spacing: 0pt; font-size: 9.5pt; background-image: initial; background-position: initial; background-size: initial; background-repeat: initial; background-attachment: initial; background-origin: initial; background-clip: initial; color: rgb(255, 255, 255);"><font face="宋体">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</font><font face="黑体">put(MediaStore.MediaColumns.</font></span><i><span style="font-family: 黑体; letter-spacing: 0pt; font-size: 9.5pt; background-image: initial; background-position: initial; background-size: initial; background-repeat: initial; background-attachment: initial; background-origin: initial; background-clip: initial; color: rgb(255, 255, 255);">MIME_TYPE</span></i><span style="font-family: 黑体; letter-spacing: 0pt; font-size: 9.5pt; background-image: initial; background-position: initial; background-size: initial; background-repeat: initial; background-attachment: initial; background-origin: initial; background-clip: initial; color: rgb(255, 255, 255);">, "image/jpeg")</span><span style="font-family: 黑体; letter-spacing: 0pt; font-size: 9.5pt; background-image: initial; background-position: initial; background-size: initial; background-repeat: initial; background-attachment: initial; background-origin: initial; background-clip: initial; color: rgb(255, 255, 255);"><br /></span><span style="font-family: 黑体; letter-spacing: 0pt; font-size: 9.5pt; background-image: initial; background-position: initial; background-size: initial; background-repeat: initial; background-attachment: initial; background-origin: initial; background-clip: initial; color: rgb(255, 255, 255);"><font face="宋体">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</font><font face="黑体">if(Build.VERSION.</font></span><i><span style="font-family: 黑体; letter-spacing: 0pt; font-size: 9.5pt; background-image: initial; background-position: initial; background-size: initial; background-repeat: initial; background-attachment: initial; background-origin: initial; background-clip: initial; color: rgb(255, 255, 255);"><font face="黑体">SDK_INT</font><font face="宋体">&nbsp;</font></span></i><span style="font-family: 黑体; letter-spacing: 0pt; font-size: 9.5pt; background-image: initial; background-position: initial; background-size: initial; background-repeat: initial; background-attachment: initial; background-origin: initial; background-clip: initial; color: rgb(255, 255, 255);">&gt; Build.VERSION_CODES.</span><i><span style="font-family: 黑体; letter-spacing: 0pt; font-size: 9.5pt; background-image: initial; background-position: initial; background-size: initial; background-repeat: initial; background-attachment: initial; background-origin: initial; background-clip: initial; color: rgb(255, 255, 255);">P</span></i><span style="font-family: 黑体; letter-spacing: 0pt; font-size: 9.5pt; background-image: initial; background-position: initial; background-size: initial; background-repeat: initial; background-attachment: initial; background-origin: initial; background-clip: initial; color: rgb(255, 255, 255);">) {</span><span style="font-family: 黑体; letter-spacing: 0pt; font-size: 9.5pt; background-image: initial; background-position: initial; background-size: initial; background-repeat: initial; background-attachment: initial; background-origin: initial; background-clip: initial; color: rgb(255, 255, 255);"><br /></span><span style="font-family: 黑体; letter-spacing: 0pt; font-size: 9.5pt; background-image: initial; background-position: initial; background-size: initial; background-repeat: initial; background-attachment: initial; background-origin: initial; background-clip: initial; color: rgb(255, 255, 255);"><font face="宋体">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</font><font face="黑体">put(MediaStore.Images.Media.</font></span><i><span style="font-family: 黑体; letter-spacing: 0pt; font-size: 9.5pt; background-image: initial; background-position: initial; background-size: initial; background-repeat: initial; background-attachment: initial; background-origin: initial; background-clip: initial; color: rgb(255, 255, 255);">RELATIVE_PATH</span></i><span style="font-family: 黑体; letter-spacing: 0pt; font-size: 9.5pt; background-image: initial; background-position: initial; background-size: initial; background-repeat: initial; background-attachment: initial; background-origin: initial; background-clip: initial; color: rgb(255, 255, 255);">, "Pictures/CameraX-Image")</span><span style="font-family: 黑体; letter-spacing: 0pt; font-size: 9.5pt; background-image: initial; background-position: initial; background-size: initial; background-repeat: initial; background-attachment: initial; background-origin: initial; background-clip: initial; color: rgb(255, 255, 255);"><br /></span><span style="font-family: 黑体; letter-spacing: 0pt; font-size: 9.5pt; background-image: initial; background-position: initial; background-size: initial; background-repeat: initial; background-attachment: initial; background-origin: initial; background-clip: initial; color: rgb(255, 255, 255);"><font face="宋体">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</font><font face="黑体">}</font></span><span style="font-family: 黑体; letter-spacing: 0pt; font-size: 9.5pt; background-image: initial; background-position: initial; background-size: initial; background-repeat: initial; background-attachment: initial; background-origin: initial; background-clip: initial; color: rgb(255, 255, 255);"><br /></span><span style="font-family: 黑体; letter-spacing: 0pt; font-size: 9.5pt; background-image: initial; background-position: initial; background-size: initial; background-repeat: initial; background-attachment: initial; background-origin: initial; background-clip: initial; color: rgb(255, 255, 255);"><font face="宋体">&nbsp;&nbsp;&nbsp;&nbsp;</font></span><b><span style="font-family: 黑体; letter-spacing: 0pt; font-size: 9.5pt; background-image: initial; background-position: initial; background-size: initial; background-repeat: initial; background-attachment: initial; background-origin: initial; background-clip: initial; color: rgb(255, 255, 255);">}</span></b><b><span style="font-family: 黑体; letter-spacing: 0pt; font-size: 9.5pt; background-image: initial; background-position: initial; background-size: initial; background-repeat: initial; background-attachment: initial; background-origin: initial; background-clip: initial; color: rgb(255, 255, 255);"><br /></span></b><b><span style="font-family: 黑体; letter-spacing: 0pt; font-size: 9.5pt; background-image: initial; background-position: initial; background-size: initial; background-repeat: initial; background-attachment: initial; background-origin: initial; background-clip: initial; color: rgb(255, 255, 255);"><br /></span></b><b><span style="font-family: 黑体; letter-spacing: 0pt; font-size: 9.5pt; background-image: initial; background-position: initial; background-size: initial; background-repeat: initial; background-attachment: initial; background-origin: initial; background-clip: initial; color: rgb(255, 255, 255);"><font face="宋体">&nbsp;&nbsp;&nbsp;&nbsp;</font></span></b><span style="font-family: 黑体; letter-spacing: 0pt; font-size: 9.5pt; background-image: initial; background-position: initial; background-size: initial; background-repeat: initial; background-attachment: initial; background-origin: initial; background-clip: initial; color: rgb(255, 255, 255);">// 创建一个 OutputFileOptions 对象。在该对象中，可以指定所需的输出内容</span><span style="font-family: 黑体; letter-spacing: 0pt; font-size: 9.5pt; background-image: initial; background-position: initial; background-size: initial; background-repeat: initial; background-attachment: initial; background-origin: initial; background-clip: initial; color: rgb(255, 255, 255);"><br /></span><span style="font-family: 黑体; letter-spacing: 0pt; font-size: 9.5pt; background-image: initial; background-position: initial; background-size: initial; background-repeat: initial; background-attachment: initial; background-origin: initial; background-clip: initial; color: rgb(255, 255, 255);"><font face="宋体">&nbsp;&nbsp;&nbsp;&nbsp;</font><font face="黑体">val outputOptions = ImageCapture.OutputFileOptions</font></span><span style="font-family: 黑体; letter-spacing: 0pt; font-size: 9.5pt; background-image: initial; background-position: initial; background-size: initial; background-repeat: initial; background-attachment: initial; background-origin: initial; background-clip: initial; color: rgb(255, 255, 255);"><br /></span><span style="font-family: 黑体; letter-spacing: 0pt; font-size: 9.5pt; background-image: initial; background-position: initial; background-size: initial; background-repeat: initial; background-attachment: initial; background-origin: initial; background-clip: initial; color: rgb(255, 255, 255);"><font face="宋体">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</font><font face="黑体">.Builder(</font></span><i><span style="font-family: 黑体; letter-spacing: 0pt; font-size: 9.5pt; background-image: initial; background-position: initial; background-size: initial; background-repeat: initial; background-attachment: initial; background-origin: initial; background-clip: initial; color: rgb(255, 255, 255);">contentResolver</span></i><span style="font-family: 黑体; letter-spacing: 0pt; font-size: 9.5pt; background-image: initial; background-position: initial; background-size: initial; background-repeat: initial; background-attachment: initial; background-origin: initial; background-clip: initial; color: rgb(255, 255, 255);">,</span><span style="font-family: 黑体; letter-spacing: 0pt; font-size: 9.5pt; background-image: initial; background-position: initial; background-size: initial; background-repeat: initial; background-attachment: initial; background-origin: initial; background-clip: initial; color: rgb(255, 255, 255);"><br /></span><span style="font-family: 黑体; letter-spacing: 0pt; font-size: 9.5pt; background-image: initial; background-position: initial; background-size: initial; background-repeat: initial; background-attachment: initial; background-origin: initial; background-clip: initial; color: rgb(255, 255, 255);"><font face="宋体">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</font><font face="黑体">MediaStore.Images.Media.</font></span><i><span style="font-family: 黑体; letter-spacing: 0pt; font-size: 9.5pt; background-image: initial; background-position: initial; background-size: initial; background-repeat: initial; background-attachment: initial; background-origin: initial; background-clip: initial; color: rgb(255, 255, 255);">EXTERNAL_CONTENT_URI</span></i><span style="font-family: 黑体; letter-spacing: 0pt; font-size: 9.5pt; background-image: initial; background-position: initial; background-size: initial; background-repeat: initial; background-attachment: initial; background-origin: initial; background-clip: initial; color: rgb(255, 255, 255);">,</span><span style="font-family: 黑体; letter-spacing: 0pt; font-size: 9.5pt; background-image: initial; background-position: initial; background-size: initial; background-repeat: initial; background-attachment: initial; background-origin: initial; background-clip: initial; color: rgb(255, 255, 255);"><br /></span><span style="font-family: 黑体; letter-spacing: 0pt; font-size: 9.5pt; background-image: initial; background-position: initial; background-size: initial; background-repeat: initial; background-attachment: initial; background-origin: initial; background-clip: initial; color: rgb(255, 255, 255);"><font face="宋体">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</font><font face="黑体">contentValues)</font></span><span style="font-family: 黑体; letter-spacing: 0pt; font-size: 9.5pt; background-image: initial; background-position: initial; background-size: initial; background-repeat: initial; background-attachment: initial; background-origin: initial; background-clip: initial; color: rgb(255, 255, 255);"><br /></span><span style="font-family: 黑体; letter-spacing: 0pt; font-size: 9.5pt; background-image: initial; background-position: initial; background-size: initial; background-repeat: initial; background-attachment: initial; background-origin: initial; background-clip: initial; color: rgb(255, 255, 255);"><font face="宋体">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</font><font face="黑体">.build()</font></span><span style="font-family: 黑体; letter-spacing: 0pt; font-size: 9.5pt; background-image: initial; background-position: initial; background-size: initial; background-repeat: initial; background-attachment: initial; background-origin: initial; background-clip: initial; color: rgb(255, 255, 255);"><br /></span><span style="font-family: 黑体; letter-spacing: 0pt; font-size: 9.5pt; background-image: initial; background-position: initial; background-size: initial; background-repeat: initial; background-attachment: initial; background-origin: initial; background-clip: initial; color: rgb(255, 255, 255);"><br /></span><span style="font-family: 黑体; letter-spacing: 0pt; font-size: 9.5pt; background-image: initial; background-position: initial; background-size: initial; background-repeat: initial; background-attachment: initial; background-origin: initial; background-clip: initial; color: rgb(255, 255, 255);"><font face="宋体">&nbsp;&nbsp;&nbsp;&nbsp;</font><font face="黑体">// imageCapture 对象调用 takePicture()。传入 outputOptions、执行器和保存图片时使用的回调</font></span><span style="font-family: 黑体; letter-spacing: 0pt; font-size: 9.5pt; background-image: initial; background-position: initial; background-size: initial; background-repeat: initial; background-attachment: initial; background-origin: initial; background-clip: initial; color: rgb(255, 255, 255);"><br /></span><span style="font-family: 黑体; letter-spacing: 0pt; font-size: 9.5pt; background-image: initial; background-position: initial; background-size: initial; background-repeat: initial; background-attachment: initial; background-origin: initial; background-clip: initial; color: rgb(255, 255, 255);"><font face="宋体">&nbsp;&nbsp;&nbsp;&nbsp;</font><font face="黑体">imageCapture.takePicture(</font></span><span style="font-family: 黑体; letter-spacing: 0pt; font-size: 9.5pt; background-image: initial; background-position: initial; background-size: initial; background-repeat: initial; background-attachment: initial; background-origin: initial; background-clip: initial; color: rgb(255, 255, 255);"><br /></span><span style="font-family: 黑体; letter-spacing: 0pt; font-size: 9.5pt; background-image: initial; background-position: initial; background-size: initial; background-repeat: initial; background-attachment: initial; background-origin: initial; background-clip: initial; color: rgb(255, 255, 255);"><font face="宋体">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</font><font face="黑体">outputOptions,</font></span><span style="font-family: 黑体; letter-spacing: 0pt; font-size: 9.5pt; background-image: initial; background-position: initial; background-size: initial; background-repeat: initial; background-attachment: initial; background-origin: initial; background-clip: initial; color: rgb(255, 255, 255);"><br /></span><span style="font-family: 黑体; letter-spacing: 0pt; font-size: 9.5pt; background-image: initial; background-position: initial; background-size: initial; background-repeat: initial; background-attachment: initial; background-origin: initial; background-clip: initial; color: rgb(255, 255, 255);"><font face="宋体">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</font><font face="黑体">ContextCompat.getMainExecutor(this),</font></span><span style="font-family: 黑体; letter-spacing: 0pt; font-size: 9.5pt; background-image: initial; background-position: initial; background-size: initial; background-repeat: initial; background-attachment: initial; background-origin: initial; background-clip: initial; color: rgb(255, 255, 255);"><br /></span><span style="font-family: 黑体; letter-spacing: 0pt; font-size: 9.5pt; background-image: initial; background-position: initial; background-size: initial; background-repeat: initial; background-attachment: initial; background-origin: initial; background-clip: initial; color: rgb(255, 255, 255);"><font face="宋体">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</font><font face="黑体">object</font><font face="宋体">&nbsp;</font><font face="黑体">: ImageCapture.OnImageSavedCallback {</font></span><span style="font-family: 黑体; letter-spacing: 0pt; font-size: 9.5pt; background-image: initial; background-position: initial; background-size: initial; background-repeat: initial; background-attachment: initial; background-origin: initial; background-clip: initial; color: rgb(255, 255, 255);"><br /></span><span style="font-family: 黑体; letter-spacing: 0pt; font-size: 9.5pt; background-image: initial; background-position: initial; background-size: initial; background-repeat: initial; background-attachment: initial; background-origin: initial; background-clip: initial; color: rgb(255, 255, 255);"><font face="宋体">&nbsp;&nbsp;&nbsp;&nbsp;</font><font face="黑体">//如果图片拍摄失败或保存图片失败，添加错误情况以记录失败。</font></span><span style="font-family: 黑体; letter-spacing: 0pt; font-size: 9.5pt; background-image: initial; background-position: initial; background-size: initial; background-repeat: initial; background-attachment: initial; background-origin: initial; background-clip: initial; color: rgb(255, 255, 255);"><br /></span><span style="font-family: 黑体; letter-spacing: 0pt; font-size: 9.5pt; background-image: initial; background-position: initial; background-size: initial; background-repeat: initial; background-attachment: initial; background-origin: initial; background-clip: initial; color: rgb(255, 255, 255);"><font face="宋体">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</font><font face="黑体">override fun onError(exc: ImageCaptureException) {</font></span><span style="font-family: 黑体; letter-spacing: 0pt; font-size: 9.5pt; background-image: initial; background-position: initial; background-size: initial; background-repeat: initial; background-attachment: initial; background-origin: initial; background-clip: initial; color: rgb(255, 255, 255);"><br /></span><span style="font-family: 黑体; letter-spacing: 0pt; font-size: 9.5pt; background-image: initial; background-position: initial; background-size: initial; background-repeat: initial; background-attachment: initial; background-origin: initial; background-clip: initial; color: rgb(255, 255, 255);"><font face="宋体">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</font><font face="黑体">Log.e(TAG, "Photo capture failed: ${exc.message}", exc)</font></span><span style="font-family: 黑体; letter-spacing: 0pt; font-size: 9.5pt; background-image: initial; background-position: initial; background-size: initial; background-repeat: initial; background-attachment: initial; background-origin: initial; background-clip: initial; color: rgb(255, 255, 255);"><br /></span><span style="font-family: 黑体; letter-spacing: 0pt; font-size: 9.5pt; background-image: initial; background-position: initial; background-size: initial; background-repeat: initial; background-attachment: initial; background-origin: initial; background-clip: initial; color: rgb(255, 255, 255);"><font face="宋体">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</font><font face="黑体">}</font></span><span style="font-family: 黑体; letter-spacing: 0pt; font-size: 9.5pt; background-image: initial; background-position: initial; background-size: initial; background-repeat: initial; background-attachment: initial; background-origin: initial; background-clip: initial; color: rgb(255, 255, 255);"><br /></span><span style="font-family: 黑体; letter-spacing: 0pt; font-size: 9.5pt; background-image: initial; background-position: initial; background-size: initial; background-repeat: initial; background-attachment: initial; background-origin: initial; background-clip: initial; color: rgb(255, 255, 255);"><font face="宋体">&nbsp;&nbsp;&nbsp;&nbsp;</font><font face="黑体">//如果拍摄未失败，即表示照片拍摄成功！将照片保存到之前创建的文件中，</font></span><span style="font-family: 黑体; letter-spacing: 0pt; font-size: 9.5pt; background-image: initial; background-position: initial; background-size: initial; background-repeat: initial; background-attachment: initial; background-origin: initial; background-clip: initial; color: rgb(255, 255, 255);"><br /></span><span style="font-family: 黑体; letter-spacing: 0pt; font-size: 9.5pt; background-image: initial; background-position: initial; background-size: initial; background-repeat: initial; background-attachment: initial; background-origin: initial; background-clip: initial; color: rgb(255, 255, 255);"><font face="宋体">&nbsp;&nbsp;&nbsp;&nbsp;</font><font face="黑体">// 显示消息框，让用户知道照片已拍摄成功，并输出日志语句。</font></span><span style="font-family: 黑体; letter-spacing: 0pt; font-size: 9.5pt; background-image: initial; background-position: initial; background-size: initial; background-repeat: initial; background-attachment: initial; background-origin: initial; background-clip: initial; color: rgb(255, 255, 255);"><br /></span><span style="font-family: 黑体; letter-spacing: 0pt; font-size: 9.5pt; background-image: initial; background-position: initial; background-size: initial; background-repeat: initial; background-attachment: initial; background-origin: initial; background-clip: initial; color: rgb(255, 255, 255);"><font face="宋体">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</font><font face="黑体">override fun</font></span><span style="font-family: 黑体; letter-spacing: 0pt; font-size: 9.5pt; background-image: initial; background-position: initial; background-size: initial; background-repeat: initial; background-attachment: initial; background-origin: initial; background-clip: initial; color: rgb(255, 255, 255);"><br /></span><span style="font-family: 黑体; letter-spacing: 0pt; font-size: 9.5pt; background-image: initial; background-position: initial; background-size: initial; background-repeat: initial; background-attachment: initial; background-origin: initial; background-clip: initial; color: rgb(255, 255, 255);"><font face="宋体">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</font><font face="黑体">onImageSaved(output: ImageCapture.OutputFileResults){</font></span><span style="font-family: 黑体; letter-spacing: 0pt; font-size: 9.5pt; background-image: initial; background-position: initial; background-size: initial; background-repeat: initial; background-attachment: initial; background-origin: initial; background-clip: initial; color: rgb(255, 255, 255);"><br /></span><span style="font-family: 黑体; letter-spacing: 0pt; font-size: 9.5pt; background-image: initial; background-position: initial; background-size: initial; background-repeat: initial; background-attachment: initial; background-origin: initial; background-clip: initial; color: rgb(255, 255, 255);"><font face="宋体">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</font><font face="黑体">val msg = "Photo capture succeeded: ${output.</font></span><i><span style="font-family: 黑体; letter-spacing: 0pt; font-size: 9.5pt; background-image: initial; background-position: initial; background-size: initial; background-repeat: initial; background-attachment: initial; background-origin: initial; background-clip: initial; color: rgb(255, 255, 255);">savedUri</span></i><span style="font-family: 黑体; letter-spacing: 0pt; font-size: 9.5pt; background-image: initial; background-position: initial; background-size: initial; background-repeat: initial; background-attachment: initial; background-origin: initial; background-clip: initial; color: rgb(255, 255, 255);">}"</span><span style="font-family: 黑体; letter-spacing: 0pt; font-size: 9.5pt; background-image: initial; background-position: initial; background-size: initial; background-repeat: initial; background-attachment: initial; background-origin: initial; background-clip: initial; color: rgb(255, 255, 255);"><br /></span><span style="font-family: 黑体; letter-spacing: 0pt; font-size: 9.5pt; background-image: initial; background-position: initial; background-size: initial; background-repeat: initial; background-attachment: initial; background-origin: initial; background-clip: initial; color: rgb(255, 255, 255);"><font face="宋体">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</font><font face="黑体">Toast.makeText(</font></span><i><span style="font-family: 黑体; letter-spacing: 0pt; font-size: 9.5pt; background-image: initial; background-position: initial; background-size: initial; background-repeat: initial; background-attachment: initial; background-origin: initial; background-clip: initial; color: rgb(255, 255, 255);">baseContext</span></i><span style="font-family: 黑体; letter-spacing: 0pt; font-size: 9.5pt; background-image: initial; background-position: initial; background-size: initial; background-repeat: initial; background-attachment: initial; background-origin: initial; background-clip: initial; color: rgb(255, 255, 255);">, msg, Toast.</span><i><span style="font-family: 黑体; letter-spacing: 0pt; font-size: 9.5pt; background-image: initial; background-position: initial; background-size: initial; background-repeat: initial; background-attachment: initial; background-origin: initial; background-clip: initial; color: rgb(255, 255, 255);">LENGTH_SHORT</span></i><span style="font-family: 黑体; letter-spacing: 0pt; font-size: 9.5pt; background-image: initial; background-position: initial; background-size: initial; background-repeat: initial; background-attachment: initial; background-origin: initial; background-clip: initial; color: rgb(255, 255, 255);">).show()</span><span style="font-family: 黑体; letter-spacing: 0pt; font-size: 9.5pt; background-image: initial; background-position: initial; background-size: initial; background-repeat: initial; background-attachment: initial; background-origin: initial; background-clip: initial; color: rgb(255, 255, 255);"><br /></span><span style="font-family: 黑体; letter-spacing: 0pt; font-size: 9.5pt; background-image: initial; background-position: initial; background-size: initial; background-repeat: initial; background-attachment: initial; background-origin: initial; background-clip: initial; color: rgb(255, 255, 255);"><font face="宋体">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</font><font face="黑体">Log.d(TAG, msg)</font></span><span style="font-family: 黑体; letter-spacing: 0pt; font-size: 9.5pt; background-image: initial; background-position: initial; background-size: initial; background-repeat: initial; background-attachment: initial; background-origin: initial; background-clip: initial; color: rgb(255, 255, 255);"><br /></span><span style="font-family: 黑体; letter-spacing: 0pt; font-size: 9.5pt; background-image: initial; background-position: initial; background-size: initial; background-repeat: initial; background-attachment: initial; background-origin: initial; background-clip: initial; color: rgb(255, 255, 255);"><font face="宋体">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</font><font face="黑体">}</font></span><span style="font-family: 黑体; letter-spacing: 0pt; font-size: 9.5pt; background-image: initial; background-position: initial; background-size: initial; background-repeat: initial; background-attachment: initial; background-origin: initial; background-clip: initial; color: rgb(255, 255, 255);"><br /></span><span style="font-family: 黑体; letter-spacing: 0pt; font-size: 9.5pt; background-image: initial; background-position: initial; background-size: initial; background-repeat: initial; background-attachment: initial; background-origin: initial; background-clip: initial; color: rgb(255, 255, 255);"><font face="宋体">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</font><font face="黑体">}</font></span><span style="font-family: 黑体; letter-spacing: 0pt; font-size: 9.5pt; background-image: initial; background-position: initial; background-size: initial; background-repeat: initial; background-attachment: initial; background-origin: initial; background-clip: initial; color: rgb(255, 255, 255);"><br /></span><span style="font-family: 黑体; letter-spacing: 0pt; font-size: 9.5pt; background-image: initial; background-position: initial; background-size: initial; background-repeat: initial; background-attachment: initial; background-origin: initial; background-clip: initial; color: rgb(255, 255, 255);"><font face="宋体">&nbsp;&nbsp;&nbsp;&nbsp;</font><font face="黑体">)</font></span><span style="font-family: 黑体; letter-spacing: 0pt; font-size: 9.5pt; background-image: initial; background-position: initial; background-size: initial; background-repeat: initial; background-attachment: initial; background-origin: initial; background-clip: initial; color: rgb(255, 255, 255);"><br /></span><span style="font-family: 黑体; letter-spacing: 0pt; font-size: 9.5pt; background-image: initial; background-position: initial; background-size: initial; background-repeat: initial; background-attachment: initial; background-origin: initial; background-clip: initial; color: rgb(255, 255, 255);">}</span><span style="mso-spacerun:'yes';font-family:宋体;font-size:12.0000pt;
mso-font-kerning:0.0000pt;"><o:p></o:p></span></p><p class="MsoNormal" style="margin: 5pt 0pt;"><b><span style="font-family: 黑体; letter-spacing: 0pt; font-size: 10.5pt; background-image: initial; background-position: initial; background-size: initial; background-repeat: initial; background-attachment: initial; background-origin: initial; background-clip: initial;"><font face="黑体">在</font><font face="黑体">MainActivity.kt中设定startcamera用于拍摄录像</font></span></b><span style="mso-spacerun:'yes';font-family:Calibri;mso-fareast-font-family:宋体;
mso-bidi-font-family:'Times New Roman';font-size:10.5000pt;mso-font-kerning:1.0000pt;"><o:p></o:p></span></p><p class="pre" style="margin-top:5.0000pt;margin-right:0.0000pt;margin-bottom:5.0000pt;
margin-left:0.0000pt;mso-margin-top-alt:auto;mso-margin-bottom-alt:auto;
mso-pagination:widow-orphan;background:rgb(43,43,43);"><span style="font-family: 黑体; letter-spacing: 0pt; font-size: 9.5pt; background-image: initial; background-position: initial; background-size: initial; background-repeat: initial; background-attachment: initial; background-origin: initial; background-clip: initial; color: rgb(255, 255, 255);">private fun captureVideo() {</span><span style="font-family: 黑体; letter-spacing: 0pt; font-size: 9.5pt; background-image: initial; background-position: initial; background-size: initial; background-repeat: initial; background-attachment: initial; background-origin: initial; background-clip: initial; color: rgb(255, 255, 255);"><br /></span><span style="font-family: 黑体; letter-spacing: 0pt; font-size: 9.5pt; background-image: initial; background-position: initial; background-size: initial; background-repeat: initial; background-attachment: initial; background-origin: initial; background-clip: initial; color: rgb(255, 255, 255);"><font face="宋体">&nbsp;&nbsp;&nbsp;&nbsp;</font><font face="黑体">//检查是否已创建 VideoCapture 用例：如果尚未创建，则不执行任何操作。</font></span><span style="font-family: 黑体; letter-spacing: 0pt; font-size: 9.5pt; background-image: initial; background-position: initial; background-size: initial; background-repeat: initial; background-attachment: initial; background-origin: initial; background-clip: initial; color: rgb(255, 255, 255);"><br /></span><span style="font-family: 黑体; letter-spacing: 0pt; font-size: 9.5pt; background-image: initial; background-position: initial; background-size: initial; background-repeat: initial; background-attachment: initial; background-origin: initial; background-clip: initial; color: rgb(255, 255, 255);"><font face="宋体">&nbsp;&nbsp;&nbsp;&nbsp;</font><font face="黑体">val videoCapture = this.videoCapture ?: return</font></span><span style="font-family: 黑体; letter-spacing: 0pt; font-size: 9.5pt; background-image: initial; background-position: initial; background-size: initial; background-repeat: initial; background-attachment: initial; background-origin: initial; background-clip: initial; color: rgb(255, 255, 255);"><br /></span><span style="font-family: 黑体; letter-spacing: 0pt; font-size: 9.5pt; background-image: initial; background-position: initial; background-size: initial; background-repeat: initial; background-attachment: initial; background-origin: initial; background-clip: initial; color: rgb(255, 255, 255);"><font face="宋体">&nbsp;&nbsp;&nbsp;&nbsp;</font><font face="黑体">//在 CameraX 完成请求操作之前，停用界面；在后续步骤中，它会在已注册的 VideoRecordListener 内重新启用。</font></span><span style="font-family: 黑体; letter-spacing: 0pt; font-size: 9.5pt; background-image: initial; background-position: initial; background-size: initial; background-repeat: initial; background-attachment: initial; background-origin: initial; background-clip: initial; color: rgb(255, 255, 255);"><br /></span><span style="font-family: 黑体; letter-spacing: 0pt; font-size: 9.5pt; background-image: initial; background-position: initial; background-size: initial; background-repeat: initial; background-attachment: initial; background-origin: initial; background-clip: initial; color: rgb(255, 255, 255);"><font face="宋体">&nbsp;&nbsp;&nbsp;&nbsp;</font><font face="黑体">viewBinding.videoCaptureButton.</font></span><i><span style="font-family: 黑体; letter-spacing: 0pt; font-size: 9.5pt; background-image: initial; background-position: initial; background-size: initial; background-repeat: initial; background-attachment: initial; background-origin: initial; background-clip: initial; color: rgb(255, 255, 255);"><font face="黑体">isEnabled</font><font face="宋体">&nbsp;</font></span></i><span style="font-family: 黑体; letter-spacing: 0pt; font-size: 9.5pt; background-image: initial; background-position: initial; background-size: initial; background-repeat: initial; background-attachment: initial; background-origin: initial; background-clip: initial; color: rgb(255, 255, 255);">= false</span><span style="font-family: 黑体; letter-spacing: 0pt; font-size: 9.5pt; background-image: initial; background-position: initial; background-size: initial; background-repeat: initial; background-attachment: initial; background-origin: initial; background-clip: initial; color: rgb(255, 255, 255);"><br /></span><span style="font-family: 黑体; letter-spacing: 0pt; font-size: 9.5pt; background-image: initial; background-position: initial; background-size: initial; background-repeat: initial; background-attachment: initial; background-origin: initial; background-clip: initial; color: rgb(255, 255, 255);"><font face="宋体">&nbsp;&nbsp;&nbsp;&nbsp;</font><font face="黑体">//如果有正在进行的录制操作，将其停止并释放当前的 recording。当所捕获的视频文件可供应用使用时，我们会收到通知。</font></span><span style="font-family: 黑体; letter-spacing: 0pt; font-size: 9.5pt; background-image: initial; background-position: initial; background-size: initial; background-repeat: initial; background-attachment: initial; background-origin: initial; background-clip: initial; color: rgb(255, 255, 255);"><br /></span><span style="font-family: 黑体; letter-spacing: 0pt; font-size: 9.5pt; background-image: initial; background-position: initial; background-size: initial; background-repeat: initial; background-attachment: initial; background-origin: initial; background-clip: initial; color: rgb(255, 255, 255);"><font face="宋体">&nbsp;&nbsp;&nbsp;&nbsp;</font><font face="黑体">val curRecording = recording</font></span><span style="font-family: 黑体; letter-spacing: 0pt; font-size: 9.5pt; background-image: initial; background-position: initial; background-size: initial; background-repeat: initial; background-attachment: initial; background-origin: initial; background-clip: initial; color: rgb(255, 255, 255);"><br /></span><span style="font-family: 黑体; letter-spacing: 0pt; font-size: 9.5pt; background-image: initial; background-position: initial; background-size: initial; background-repeat: initial; background-attachment: initial; background-origin: initial; background-clip: initial; color: rgb(255, 255, 255);"><font face="宋体">&nbsp;&nbsp;&nbsp;&nbsp;</font><font face="黑体">if (curRecording != null) {</font></span><span style="font-family: 黑体; letter-spacing: 0pt; font-size: 9.5pt; background-image: initial; background-position: initial; background-size: initial; background-repeat: initial; background-attachment: initial; background-origin: initial; background-clip: initial; color: rgb(255, 255, 255);"><br /></span><span style="font-family: 黑体; letter-spacing: 0pt; font-size: 9.5pt; background-image: initial; background-position: initial; background-size: initial; background-repeat: initial; background-attachment: initial; background-origin: initial; background-clip: initial; color: rgb(255, 255, 255);"><font face="宋体">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</font><font face="黑体">// Stop the current recording session.</font></span><span style="font-family: 黑体; letter-spacing: 0pt; font-size: 9.5pt; background-image: initial; background-position: initial; background-size: initial; background-repeat: initial; background-attachment: initial; background-origin: initial; background-clip: initial; color: rgb(255, 255, 255);"><br /></span><span style="font-family: 黑体; letter-spacing: 0pt; font-size: 9.5pt; background-image: initial; background-position: initial; background-size: initial; background-repeat: initial; background-attachment: initial; background-origin: initial; background-clip: initial; color: rgb(255, 255, 255);"><font face="宋体">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</font></span><span style="font-family: 黑体; letter-spacing: 0pt; font-size: 9.5pt; background: rgb(34, 60, 35); color: rgb(255, 255, 255);"><font face="黑体">curRecording</font></span><span style="font-family: 黑体; letter-spacing: 0pt; font-size: 9.5pt; background-image: initial; background-position: initial; background-size: initial; background-repeat: initial; background-attachment: initial; background-origin: initial; background-clip: initial; color: rgb(255, 255, 255);">.stop()</span><span style="font-family: 黑体; letter-spacing: 0pt; font-size: 9.5pt; background-image: initial; background-position: initial; background-size: initial; background-repeat: initial; background-attachment: initial; background-origin: initial; background-clip: initial; color: rgb(255, 255, 255);"><br /></span><span style="font-family: 黑体; letter-spacing: 0pt; font-size: 9.5pt; background-image: initial; background-position: initial; background-size: initial; background-repeat: initial; background-attachment: initial; background-origin: initial; background-clip: initial; color: rgb(255, 255, 255);"><font face="宋体">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</font><font face="黑体">recording = null</font></span><span style="font-family: 黑体; letter-spacing: 0pt; font-size: 9.5pt; background-image: initial; background-position: initial; background-size: initial; background-repeat: initial; background-attachment: initial; background-origin: initial; background-clip: initial; color: rgb(255, 255, 255);"><br /></span><span style="font-family: 黑体; letter-spacing: 0pt; font-size: 9.5pt; background-image: initial; background-position: initial; background-size: initial; background-repeat: initial; background-attachment: initial; background-origin: initial; background-clip: initial; color: rgb(255, 255, 255);"><font face="宋体">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</font><font face="黑体">return</font></span><span style="font-family: 黑体; letter-spacing: 0pt; font-size: 9.5pt; background-image: initial; background-position: initial; background-size: initial; background-repeat: initial; background-attachment: initial; background-origin: initial; background-clip: initial; color: rgb(255, 255, 255);"><br /></span><span style="font-family: 黑体; letter-spacing: 0pt; font-size: 9.5pt; background-image: initial; background-position: initial; background-size: initial; background-repeat: initial; background-attachment: initial; background-origin: initial; background-clip: initial; color: rgb(255, 255, 255);"><font face="宋体">&nbsp;&nbsp;&nbsp;&nbsp;</font><font face="黑体">}</font></span><span style="font-family: 黑体; letter-spacing: 0pt; font-size: 9.5pt; background-image: initial; background-position: initial; background-size: initial; background-repeat: initial; background-attachment: initial; background-origin: initial; background-clip: initial; color: rgb(255, 255, 255);"><br /></span><span style="font-family: 黑体; letter-spacing: 0pt; font-size: 9.5pt; background-image: initial; background-position: initial; background-size: initial; background-repeat: initial; background-attachment: initial; background-origin: initial; background-clip: initial; color: rgb(255, 255, 255);"><font face="宋体">&nbsp;&nbsp;&nbsp;&nbsp;</font><font face="黑体">//为了开始录制，创建一个新的录制会话。首先，创建预定的 MediaStore 视频内容对象，将系统时间戳作为显示名（以便可以捕获多个视频）</font></span><span style="font-family: 黑体; letter-spacing: 0pt; font-size: 9.5pt; background-image: initial; background-position: initial; background-size: initial; background-repeat: initial; background-attachment: initial; background-origin: initial; background-clip: initial; color: rgb(255, 255, 255);"><br /></span><span style="font-family: 黑体; letter-spacing: 0pt; font-size: 9.5pt; background-image: initial; background-position: initial; background-size: initial; background-repeat: initial; background-attachment: initial; background-origin: initial; background-clip: initial; color: rgb(255, 255, 255);"><font face="宋体">&nbsp;&nbsp;&nbsp;&nbsp;</font><font face="黑体">val name = SimpleDateFormat(FILENAME_FORMAT, Locale.</font></span><i><span style="font-family: 黑体; letter-spacing: 0pt; font-size: 9.5pt; background-image: initial; background-position: initial; background-size: initial; background-repeat: initial; background-attachment: initial; background-origin: initial; background-clip: initial; color: rgb(255, 255, 255);">US</span></i><span style="font-family: 黑体; letter-spacing: 0pt; font-size: 9.5pt; background-image: initial; background-position: initial; background-size: initial; background-repeat: initial; background-attachment: initial; background-origin: initial; background-clip: initial; color: rgb(255, 255, 255);">)</span><span style="font-family: 黑体; letter-spacing: 0pt; font-size: 9.5pt; background-image: initial; background-position: initial; background-size: initial; background-repeat: initial; background-attachment: initial; background-origin: initial; background-clip: initial; color: rgb(255, 255, 255);"><br /></span><span style="font-family: 黑体; letter-spacing: 0pt; font-size: 9.5pt; background-image: initial; background-position: initial; background-size: initial; background-repeat: initial; background-attachment: initial; background-origin: initial; background-clip: initial; color: rgb(255, 255, 255);"><font face="宋体">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</font><font face="黑体">.format(System.currentTimeMillis())</font></span><span style="font-family: 黑体; letter-spacing: 0pt; font-size: 9.5pt; background-image: initial; background-position: initial; background-size: initial; background-repeat: initial; background-attachment: initial; background-origin: initial; background-clip: initial; color: rgb(255, 255, 255);"><br /></span><span style="font-family: 黑体; letter-spacing: 0pt; font-size: 9.5pt; background-image: initial; background-position: initial; background-size: initial; background-repeat: initial; background-attachment: initial; background-origin: initial; background-clip: initial; color: rgb(255, 255, 255);"><font face="宋体">&nbsp;&nbsp;&nbsp;&nbsp;</font><font face="黑体">val contentValues = ContentValues().</font></span><i><span style="font-family: 黑体; letter-spacing: 0pt; font-size: 9.5pt; background-image: initial; background-position: initial; background-size: initial; background-repeat: initial; background-attachment: initial; background-origin: initial; background-clip: initial; color: rgb(255, 255, 255);"><font face="黑体">apply</font><font face="宋体">&nbsp;</font></span></i><b><span style="font-family: 黑体; letter-spacing: 0pt; font-size: 9.5pt; background-image: initial; background-position: initial; background-size: initial; background-repeat: initial; background-attachment: initial; background-origin: initial; background-clip: initial; color: rgb(255, 255, 255);">{</span></b><b><span style="font-family: 黑体; letter-spacing: 0pt; font-size: 9.5pt; background-image: initial; background-position: initial; background-size: initial; background-repeat: initial; background-attachment: initial; background-origin: initial; background-clip: initial; color: rgb(255, 255, 255);"><br /></span></b><b><span style="font-family: 黑体; letter-spacing: 0pt; font-size: 9.5pt; background-image: initial; background-position: initial; background-size: initial; background-repeat: initial; background-attachment: initial; background-origin: initial; background-clip: initial; color: rgb(255, 255, 255);"><font face="宋体">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</font></span></b><span style="font-family: 黑体; letter-spacing: 0pt; font-size: 9.5pt; background-image: initial; background-position: initial; background-size: initial; background-repeat: initial; background-attachment: initial; background-origin: initial; background-clip: initial; color: rgb(255, 255, 255);">put(MediaStore.MediaColumns.</span><i><span style="font-family: 黑体; letter-spacing: 0pt; font-size: 9.5pt; background-image: initial; background-position: initial; background-size: initial; background-repeat: initial; background-attachment: initial; background-origin: initial; background-clip: initial; color: rgb(255, 255, 255);">DISPLAY_NAME</span></i><span style="font-family: 黑体; letter-spacing: 0pt; font-size: 9.5pt; background-image: initial; background-position: initial; background-size: initial; background-repeat: initial; background-attachment: initial; background-origin: initial; background-clip: initial; color: rgb(255, 255, 255);">, name)</span><span style="font-family: 黑体; letter-spacing: 0pt; font-size: 9.5pt; background-image: initial; background-position: initial; background-size: initial; background-repeat: initial; background-attachment: initial; background-origin: initial; background-clip: initial; color: rgb(255, 255, 255);"><br /></span><span style="font-family: 黑体; letter-spacing: 0pt; font-size: 9.5pt; background-image: initial; background-position: initial; background-size: initial; background-repeat: initial; background-attachment: initial; background-origin: initial; background-clip: initial; color: rgb(255, 255, 255);"><font face="宋体">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</font><font face="黑体">put(MediaStore.MediaColumns.</font></span><i><span style="font-family: 黑体; letter-spacing: 0pt; font-size: 9.5pt; background-image: initial; background-position: initial; background-size: initial; background-repeat: initial; background-attachment: initial; background-origin: initial; background-clip: initial; color: rgb(255, 255, 255);">MIME_TYPE</span></i><span style="font-family: 黑体; letter-spacing: 0pt; font-size: 9.5pt; background-image: initial; background-position: initial; background-size: initial; background-repeat: initial; background-attachment: initial; background-origin: initial; background-clip: initial; color: rgb(255, 255, 255);">, "video/mp4")</span><span style="font-family: 黑体; letter-spacing: 0pt; font-size: 9.5pt; background-image: initial; background-position: initial; background-size: initial; background-repeat: initial; background-attachment: initial; background-origin: initial; background-clip: initial; color: rgb(255, 255, 255);"><br /></span><span style="font-family: 黑体; letter-spacing: 0pt; font-size: 9.5pt; background-image: initial; background-position: initial; background-size: initial; background-repeat: initial; background-attachment: initial; background-origin: initial; background-clip: initial; color: rgb(255, 255, 255);"><font face="宋体">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</font><font face="黑体">if (Build.VERSION.</font></span><i><span style="font-family: 黑体; letter-spacing: 0pt; font-size: 9.5pt; background-image: initial; background-position: initial; background-size: initial; background-repeat: initial; background-attachment: initial; background-origin: initial; background-clip: initial; color: rgb(255, 255, 255);"><font face="黑体">SDK_INT</font><font face="宋体">&nbsp;</font></span></i><span style="font-family: 黑体; letter-spacing: 0pt; font-size: 9.5pt; background-image: initial; background-position: initial; background-size: initial; background-repeat: initial; background-attachment: initial; background-origin: initial; background-clip: initial; color: rgb(255, 255, 255);">&gt; Build.VERSION_CODES.</span><i><span style="font-family: 黑体; letter-spacing: 0pt; font-size: 9.5pt; background-image: initial; background-position: initial; background-size: initial; background-repeat: initial; background-attachment: initial; background-origin: initial; background-clip: initial; color: rgb(255, 255, 255);">P</span></i><span style="font-family: 黑体; letter-spacing: 0pt; font-size: 9.5pt; background-image: initial; background-position: initial; background-size: initial; background-repeat: initial; background-attachment: initial; background-origin: initial; background-clip: initial; color: rgb(255, 255, 255);">) {</span><span style="font-family: 黑体; letter-spacing: 0pt; font-size: 9.5pt; background-image: initial; background-position: initial; background-size: initial; background-repeat: initial; background-attachment: initial; background-origin: initial; background-clip: initial; color: rgb(255, 255, 255);"><br /></span><span style="font-family: 黑体; letter-spacing: 0pt; font-size: 9.5pt; background-image: initial; background-position: initial; background-size: initial; background-repeat: initial; background-attachment: initial; background-origin: initial; background-clip: initial; color: rgb(255, 255, 255);"><font face="宋体">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</font><font face="黑体">put(MediaStore.Video.Media.</font></span><i><span style="font-family: 黑体; letter-spacing: 0pt; font-size: 9.5pt; background-image: initial; background-position: initial; background-size: initial; background-repeat: initial; background-attachment: initial; background-origin: initial; background-clip: initial; color: rgb(255, 255, 255);">RELATIVE_PATH</span></i><span style="font-family: 黑体; letter-spacing: 0pt; font-size: 9.5pt; background-image: initial; background-position: initial; background-size: initial; background-repeat: initial; background-attachment: initial; background-origin: initial; background-clip: initial; color: rgb(255, 255, 255);">, "Movies/CameraX-Video")</span><span style="font-family: 黑体; letter-spacing: 0pt; font-size: 9.5pt; background-image: initial; background-position: initial; background-size: initial; background-repeat: initial; background-attachment: initial; background-origin: initial; background-clip: initial; color: rgb(255, 255, 255);"><br /></span><span style="font-family: 黑体; letter-spacing: 0pt; font-size: 9.5pt; background-image: initial; background-position: initial; background-size: initial; background-repeat: initial; background-attachment: initial; background-origin: initial; background-clip: initial; color: rgb(255, 255, 255);"><font face="宋体">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</font><font face="黑体">}</font></span><span style="font-family: 黑体; letter-spacing: 0pt; font-size: 9.5pt; background-image: initial; background-position: initial; background-size: initial; background-repeat: initial; background-attachment: initial; background-origin: initial; background-clip: initial; color: rgb(255, 255, 255);"><br /></span><span style="font-family: 黑体; letter-spacing: 0pt; font-size: 9.5pt; background-image: initial; background-position: initial; background-size: initial; background-repeat: initial; background-attachment: initial; background-origin: initial; background-clip: initial; color: rgb(255, 255, 255);"><font face="宋体">&nbsp;&nbsp;&nbsp;&nbsp;</font></span><b><span style="font-family: 黑体; letter-spacing: 0pt; font-size: 9.5pt; background-image: initial; background-position: initial; background-size: initial; background-repeat: initial; background-attachment: initial; background-origin: initial; background-clip: initial; color: rgb(255, 255, 255);">}</span></b><b><span style="font-family: 黑体; letter-spacing: 0pt; font-size: 9.5pt; background-image: initial; background-position: initial; background-size: initial; background-repeat: initial; background-attachment: initial; background-origin: initial; background-clip: initial; color: rgb(255, 255, 255);"><br /></span></b><b><span style="font-family: 黑体; letter-spacing: 0pt; font-size: 9.5pt; background-image: initial; background-position: initial; background-size: initial; background-repeat: initial; background-attachment: initial; background-origin: initial; background-clip: initial; color: rgb(255, 255, 255);"><font face="宋体">&nbsp;&nbsp;&nbsp;&nbsp;</font></span></b><span style="font-family: 黑体; letter-spacing: 0pt; font-size: 9.5pt; background-image: initial; background-position: initial; background-size: initial; background-repeat: initial; background-attachment: initial; background-origin: initial; background-clip: initial; color: rgb(255, 255, 255);">//使用外部内容选项创建 MediaStoreOutputOptions.Builder。</span><span style="font-family: 黑体; letter-spacing: 0pt; font-size: 9.5pt; background-image: initial; background-position: initial; background-size: initial; background-repeat: initial; background-attachment: initial; background-origin: initial; background-clip: initial; color: rgb(255, 255, 255);"><br /></span><span style="font-family: 黑体; letter-spacing: 0pt; font-size: 9.5pt; background-image: initial; background-position: initial; background-size: initial; background-repeat: initial; background-attachment: initial; background-origin: initial; background-clip: initial; color: rgb(255, 255, 255);"><font face="宋体">&nbsp;&nbsp;&nbsp;&nbsp;</font><font face="黑体">val mediaStoreOutputOptions = MediaStoreOutputOptions</font></span><span style="font-family: 黑体; letter-spacing: 0pt; font-size: 9.5pt; background-image: initial; background-position: initial; background-size: initial; background-repeat: initial; background-attachment: initial; background-origin: initial; background-clip: initial; color: rgb(255, 255, 255);"><br /></span><span style="font-family: 黑体; letter-spacing: 0pt; font-size: 9.5pt; background-image: initial; background-position: initial; background-size: initial; background-repeat: initial; background-attachment: initial; background-origin: initial; background-clip: initial; color: rgb(255, 255, 255);"><font face="宋体">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</font><font face="黑体">.Builder(</font></span><i><span style="font-family: 黑体; letter-spacing: 0pt; font-size: 9.5pt; background-image: initial; background-position: initial; background-size: initial; background-repeat: initial; background-attachment: initial; background-origin: initial; background-clip: initial; color: rgb(255, 255, 255);">contentResolver</span></i><span style="font-family: 黑体; letter-spacing: 0pt; font-size: 9.5pt; background-image: initial; background-position: initial; background-size: initial; background-repeat: initial; background-attachment: initial; background-origin: initial; background-clip: initial; color: rgb(255, 255, 255);">, MediaStore.Video.Media.</span><i><span style="font-family: 黑体; letter-spacing: 0pt; font-size: 9.5pt; background-image: initial; background-position: initial; background-size: initial; background-repeat: initial; background-attachment: initial; background-origin: initial; background-clip: initial; color: rgb(255, 255, 255);">EXTERNAL_CONTENT_URI</span></i><span style="font-family: 黑体; letter-spacing: 0pt; font-size: 9.5pt; background-image: initial; background-position: initial; background-size: initial; background-repeat: initial; background-attachment: initial; background-origin: initial; background-clip: initial; color: rgb(255, 255, 255);">)</span><span style="font-family: 黑体; letter-spacing: 0pt; font-size: 9.5pt; background-image: initial; background-position: initial; background-size: initial; background-repeat: initial; background-attachment: initial; background-origin: initial; background-clip: initial; color: rgb(255, 255, 255);"><br /></span><span style="font-family: 黑体; letter-spacing: 0pt; font-size: 9.5pt; background-image: initial; background-position: initial; background-size: initial; background-repeat: initial; background-attachment: initial; background-origin: initial; background-clip: initial; color: rgb(255, 255, 255);"><font face="宋体">&nbsp;&nbsp;&nbsp;&nbsp;</font><font face="黑体">//将创建的视频 contentValues 设置为 MediaStoreOutputOptions.Builder，并构建我们的 MediaStoreOutputOptions 实例。</font></span><span style="font-family: 黑体; letter-spacing: 0pt; font-size: 9.5pt; background-image: initial; background-position: initial; background-size: initial; background-repeat: initial; background-attachment: initial; background-origin: initial; background-clip: initial; color: rgb(255, 255, 255);"><br /></span><span style="font-family: 黑体; letter-spacing: 0pt; font-size: 9.5pt; background-image: initial; background-position: initial; background-size: initial; background-repeat: initial; background-attachment: initial; background-origin: initial; background-clip: initial; color: rgb(255, 255, 255);"><font face="宋体">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</font><font face="黑体">.setContentValues(contentValues)</font></span><span style="font-family: 黑体; letter-spacing: 0pt; font-size: 9.5pt; background-image: initial; background-position: initial; background-size: initial; background-repeat: initial; background-attachment: initial; background-origin: initial; background-clip: initial; color: rgb(255, 255, 255);"><br /></span><span style="font-family: 黑体; letter-spacing: 0pt; font-size: 9.5pt; background-image: initial; background-position: initial; background-size: initial; background-repeat: initial; background-attachment: initial; background-origin: initial; background-clip: initial; color: rgb(255, 255, 255);"><font face="宋体">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</font><font face="黑体">.build()</font></span><span style="font-family: 黑体; letter-spacing: 0pt; font-size: 9.5pt; background-image: initial; background-position: initial; background-size: initial; background-repeat: initial; background-attachment: initial; background-origin: initial; background-clip: initial; color: rgb(255, 255, 255);"><br /></span><span style="font-family: 黑体; letter-spacing: 0pt; font-size: 9.5pt; background-image: initial; background-position: initial; background-size: initial; background-repeat: initial; background-attachment: initial; background-origin: initial; background-clip: initial; color: rgb(255, 255, 255);"><font face="宋体">&nbsp;&nbsp;&nbsp;&nbsp;</font><font face="黑体">//将输出选项配置为 VideoCapture 的 Recorder 并启用录音：</font></span><span style="font-family: 黑体; letter-spacing: 0pt; font-size: 9.5pt; background-image: initial; background-position: initial; background-size: initial; background-repeat: initial; background-attachment: initial; background-origin: initial; background-clip: initial; color: rgb(255, 255, 255);"><br /></span><span style="font-family: 黑体; letter-spacing: 0pt; font-size: 9.5pt; background-image: initial; background-position: initial; background-size: initial; background-repeat: initial; background-attachment: initial; background-origin: initial; background-clip: initial; color: rgb(255, 255, 255);"><font face="宋体">&nbsp;&nbsp;&nbsp;&nbsp;</font><font face="黑体">recording = videoCapture.</font></span><i><span style="font-family: 黑体; letter-spacing: 0pt; font-size: 9.5pt; background-image: initial; background-position: initial; background-size: initial; background-repeat: initial; background-attachment: initial; background-origin: initial; background-clip: initial; color: rgb(255, 255, 255);">output</span></i><i><span style="font-family: 黑体; letter-spacing: 0pt; font-size: 9.5pt; background-image: initial; background-position: initial; background-size: initial; background-repeat: initial; background-attachment: initial; background-origin: initial; background-clip: initial; color: rgb(255, 255, 255);"><br /></span></i><i><span style="font-family: 黑体; letter-spacing: 0pt; font-size: 9.5pt; background-image: initial; background-position: initial; background-size: initial; background-repeat: initial; background-attachment: initial; background-origin: initial; background-clip: initial; color: rgb(255, 255, 255);"><font face="宋体">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</font></span></i><span style="font-family: 黑体; letter-spacing: 0pt; font-size: 9.5pt; background-image: initial; background-position: initial; background-size: initial; background-repeat: initial; background-attachment: initial; background-origin: initial; background-clip: initial; color: rgb(255, 255, 255);">.prepareRecording(this, mediaStoreOutputOptions)</span><span style="font-family: 黑体; letter-spacing: 0pt; font-size: 9.5pt; background-image: initial; background-position: initial; background-size: initial; background-repeat: initial; background-attachment: initial; background-origin: initial; background-clip: initial; color: rgb(255, 255, 255);"><br /></span><span style="font-family: 黑体; letter-spacing: 0pt; font-size: 9.5pt; background-image: initial; background-position: initial; background-size: initial; background-repeat: initial; background-attachment: initial; background-origin: initial; background-clip: initial; color: rgb(255, 255, 255);"><font face="宋体">&nbsp;&nbsp;&nbsp;&nbsp;</font><font face="黑体">//在此录音中启用音频</font></span><span style="font-family: 黑体; letter-spacing: 0pt; font-size: 9.5pt; background-image: initial; background-position: initial; background-size: initial; background-repeat: initial; background-attachment: initial; background-origin: initial; background-clip: initial; color: rgb(255, 255, 255);"><br /></span><span style="font-family: 黑体; letter-spacing: 0pt; font-size: 9.5pt; background-image: initial; background-position: initial; background-size: initial; background-repeat: initial; background-attachment: initial; background-origin: initial; background-clip: initial; color: rgb(255, 255, 255);"><font face="宋体">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</font><font face="黑体">.</font></span><i><span style="font-family: 黑体; letter-spacing: 0pt; font-size: 9.5pt; background-image: initial; background-position: initial; background-size: initial; background-repeat: initial; background-attachment: initial; background-origin: initial; background-clip: initial; color: rgb(255, 255, 255);"><font face="黑体">apply</font><font face="宋体">&nbsp;</font></span></i><b><span style="font-family: 黑体; letter-spacing: 0pt; font-size: 9.5pt; background-image: initial; background-position: initial; background-size: initial; background-repeat: initial; background-attachment: initial; background-origin: initial; background-clip: initial; color: rgb(255, 255, 255);">{</span></b><b><span style="font-family: 黑体; letter-spacing: 0pt; font-size: 9.5pt; background-image: initial; background-position: initial; background-size: initial; background-repeat: initial; background-attachment: initial; background-origin: initial; background-clip: initial; color: rgb(255, 255, 255);"><br /></span></b><b><span style="font-family: 黑体; letter-spacing: 0pt; font-size: 9.5pt; background-image: initial; background-position: initial; background-size: initial; background-repeat: initial; background-attachment: initial; background-origin: initial; background-clip: initial; color: rgb(255, 255, 255);"><font face="宋体">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</font></span></b><span style="font-family: 黑体; letter-spacing: 0pt; font-size: 9.5pt; background-image: initial; background-position: initial; background-size: initial; background-repeat: initial; background-attachment: initial; background-origin: initial; background-clip: initial; color: rgb(255, 255, 255);">if (PermissionChecker.checkSelfPermission(this@MainActivity,</span><span style="font-family: 黑体; letter-spacing: 0pt; font-size: 9.5pt; background-image: initial; background-position: initial; background-size: initial; background-repeat: initial; background-attachment: initial; background-origin: initial; background-clip: initial; color: rgb(255, 255, 255);"><br /></span><span style="font-family: 黑体; letter-spacing: 0pt; font-size: 9.5pt; background-image: initial; background-position: initial; background-size: initial; background-repeat: initial; background-attachment: initial; background-origin: initial; background-clip: initial; color: rgb(255, 255, 255);"><font face="宋体">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</font><font face="黑体">Manifest.permission.</font></span><i><span style="font-family: 黑体; letter-spacing: 0pt; font-size: 9.5pt; background-image: initial; background-position: initial; background-size: initial; background-repeat: initial; background-attachment: initial; background-origin: initial; background-clip: initial; color: rgb(255, 255, 255);">RECORD_AUDIO</span></i><span style="font-family: 黑体; letter-spacing: 0pt; font-size: 9.5pt; background-image: initial; background-position: initial; background-size: initial; background-repeat: initial; background-attachment: initial; background-origin: initial; background-clip: initial; color: rgb(255, 255, 255);">) ==</span><span style="font-family: 黑体; letter-spacing: 0pt; font-size: 9.5pt; background-image: initial; background-position: initial; background-size: initial; background-repeat: initial; background-attachment: initial; background-origin: initial; background-clip: initial; color: rgb(255, 255, 255);"><br /></span><span style="font-family: 黑体; letter-spacing: 0pt; font-size: 9.5pt; background-image: initial; background-position: initial; background-size: initial; background-repeat: initial; background-attachment: initial; background-origin: initial; background-clip: initial; color: rgb(255, 255, 255);"><font face="宋体">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</font><font face="黑体">PermissionChecker.</font></span><i><span style="font-family: 黑体; letter-spacing: 0pt; font-size: 9.5pt; background-image: initial; background-position: initial; background-size: initial; background-repeat: initial; background-attachment: initial; background-origin: initial; background-clip: initial; color: rgb(255, 255, 255);">PERMISSION_GRANTED</span></i><span style="font-family: 黑体; letter-spacing: 0pt; font-size: 9.5pt; background-image: initial; background-position: initial; background-size: initial; background-repeat: initial; background-attachment: initial; background-origin: initial; background-clip: initial; color: rgb(255, 255, 255);">)</span><span style="font-family: 黑体; letter-spacing: 0pt; font-size: 9.5pt; background-image: initial; background-position: initial; background-size: initial; background-repeat: initial; background-attachment: initial; background-origin: initial; background-clip: initial; color: rgb(255, 255, 255);"><br /></span><span style="font-family: 黑体; letter-spacing: 0pt; font-size: 9.5pt; background-image: initial; background-position: initial; background-size: initial; background-repeat: initial; background-attachment: initial; background-origin: initial; background-clip: initial; color: rgb(255, 255, 255);"><font face="宋体">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</font><font face="黑体">{</font></span><span style="font-family: 黑体; letter-spacing: 0pt; font-size: 9.5pt; background-image: initial; background-position: initial; background-size: initial; background-repeat: initial; background-attachment: initial; background-origin: initial; background-clip: initial; color: rgb(255, 255, 255);"><br /></span><span style="font-family: 黑体; letter-spacing: 0pt; font-size: 9.5pt; background-image: initial; background-position: initial; background-size: initial; background-repeat: initial; background-attachment: initial; background-origin: initial; background-clip: initial; color: rgb(255, 255, 255);"><font face="宋体">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</font><font face="黑体">withAudioEnabled()</font></span><span style="font-family: 黑体; letter-spacing: 0pt; font-size: 9.5pt; background-image: initial; background-position: initial; background-size: initial; background-repeat: initial; background-attachment: initial; background-origin: initial; background-clip: initial; color: rgb(255, 255, 255);"><br /></span><span style="font-family: 黑体; letter-spacing: 0pt; font-size: 9.5pt; background-image: initial; background-position: initial; background-size: initial; background-repeat: initial; background-attachment: initial; background-origin: initial; background-clip: initial; color: rgb(255, 255, 255);"><font face="宋体">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</font><font face="黑体">}</font></span><span style="font-family: 黑体; letter-spacing: 0pt; font-size: 9.5pt; background-image: initial; background-position: initial; background-size: initial; background-repeat: initial; background-attachment: initial; background-origin: initial; background-clip: initial; color: rgb(255, 255, 255);"><br /></span><span style="font-family: 黑体; letter-spacing: 0pt; font-size: 9.5pt; background-image: initial; background-position: initial; background-size: initial; background-repeat: initial; background-attachment: initial; background-origin: initial; background-clip: initial; color: rgb(255, 255, 255);"><font face="宋体">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</font></span><b><span style="font-family: 黑体; letter-spacing: 0pt; font-size: 9.5pt; background-image: initial; background-position: initial; background-size: initial; background-repeat: initial; background-attachment: initial; background-origin: initial; background-clip: initial; color: rgb(255, 255, 255);">}</span></b><b><span style="font-family: 黑体; letter-spacing: 0pt; font-size: 9.5pt; background-image: initial; background-position: initial; background-size: initial; background-repeat: initial; background-attachment: initial; background-origin: initial; background-clip: initial; color: rgb(255, 255, 255);"><br /></span></b><b><span style="font-family: 黑体; letter-spacing: 0pt; font-size: 9.5pt; background-image: initial; background-position: initial; background-size: initial; background-repeat: initial; background-attachment: initial; background-origin: initial; background-clip: initial; color: rgb(255, 255, 255);"><font face="宋体">&nbsp;&nbsp;&nbsp;&nbsp;</font></span></b><span style="font-family: 黑体; letter-spacing: 0pt; font-size: 9.5pt; background-image: initial; background-position: initial; background-size: initial; background-repeat: initial; background-attachment: initial; background-origin: initial; background-clip: initial; color: rgb(255, 255, 255);">//启动这项新录制内容，并注册一个 lambda VideoRecordEvent 监听器。</span><span style="font-family: 黑体; letter-spacing: 0pt; font-size: 9.5pt; background-image: initial; background-position: initial; background-size: initial; background-repeat: initial; background-attachment: initial; background-origin: initial; background-clip: initial; color: rgb(255, 255, 255);"><br /></span><span style="font-family: 黑体; letter-spacing: 0pt; font-size: 9.5pt; background-image: initial; background-position: initial; background-size: initial; background-repeat: initial; background-attachment: initial; background-origin: initial; background-clip: initial; color: rgb(255, 255, 255);"><font face="宋体">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</font><font face="黑体">.start(ContextCompat.getMainExecutor(this))</font><font face="宋体">&nbsp;</font></span><b><span style="font-family: 黑体; letter-spacing: 0pt; font-size: 9.5pt; background-image: initial; background-position: initial; background-size: initial; background-repeat: initial; background-attachment: initial; background-origin: initial; background-clip: initial; color: rgb(255, 255, 255);"><font face="黑体">{</font><font face="宋体">&nbsp;</font></span></b><span style="font-family: 黑体; letter-spacing: 0pt; font-size: 9.5pt; background-image: initial; background-position: initial; background-size: initial; background-repeat: initial; background-attachment: initial; background-origin: initial; background-clip: initial; color: rgb(255, 255, 255);"><font face="黑体">recordEvent</font><font face="宋体">&nbsp;</font></span><b><span style="font-family: 黑体; letter-spacing: 0pt; font-size: 9.5pt; background-image: initial; background-position: initial; background-size: initial; background-repeat: initial; background-attachment: initial; background-origin: initial; background-clip: initial; color: rgb(255, 255, 255);">-&gt;</span></b><b><span style="font-family: 黑体; letter-spacing: 0pt; font-size: 9.5pt; background-image: initial; background-position: initial; background-size: initial; background-repeat: initial; background-attachment: initial; background-origin: initial; background-clip: initial; color: rgb(255, 255, 255);"><br /></span></b><b><span style="font-family: 黑体; letter-spacing: 0pt; font-size: 9.5pt; background-image: initial; background-position: initial; background-size: initial; background-repeat: initial; background-attachment: initial; background-origin: initial; background-clip: initial; color: rgb(255, 255, 255);"><font face="宋体">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</font></span></b><span style="font-family: 黑体; letter-spacing: 0pt; font-size: 9.5pt; background-image: initial; background-position: initial; background-size: initial; background-repeat: initial; background-attachment: initial; background-origin: initial; background-clip: initial; color: rgb(255, 255, 255);">when(recordEvent) {</span><span style="font-family: 黑体; letter-spacing: 0pt; font-size: 9.5pt; background-image: initial; background-position: initial; background-size: initial; background-repeat: initial; background-attachment: initial; background-origin: initial; background-clip: initial; color: rgb(255, 255, 255);"><br /></span><span style="font-family: 黑体; letter-spacing: 0pt; font-size: 9.5pt; background-image: initial; background-position: initial; background-size: initial; background-repeat: initial; background-attachment: initial; background-origin: initial; background-clip: initial; color: rgb(255, 255, 255);"><font face="宋体">&nbsp;&nbsp;&nbsp;&nbsp;</font><font face="黑体">//当相机设备开始请求录制时，将“Start Capture”按钮文本切换为“Stop Capture”。</font></span><span style="font-family: 黑体; letter-spacing: 0pt; font-size: 9.5pt; background-image: initial; background-position: initial; background-size: initial; background-repeat: initial; background-attachment: initial; background-origin: initial; background-clip: initial; color: rgb(255, 255, 255);"><br /></span><span style="font-family: 黑体; letter-spacing: 0pt; font-size: 9.5pt; background-image: initial; background-position: initial; background-size: initial; background-repeat: initial; background-attachment: initial; background-origin: initial; background-clip: initial; color: rgb(255, 255, 255);"><font face="宋体">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</font><font face="黑体">is VideoRecordEvent.Start -&gt; {</font></span><span style="font-family: 黑体; letter-spacing: 0pt; font-size: 9.5pt; background-image: initial; background-position: initial; background-size: initial; background-repeat: initial; background-attachment: initial; background-origin: initial; background-clip: initial; color: rgb(255, 255, 255);"><br /></span><span style="font-family: 黑体; letter-spacing: 0pt; font-size: 9.5pt; background-image: initial; background-position: initial; background-size: initial; background-repeat: initial; background-attachment: initial; background-origin: initial; background-clip: initial; color: rgb(255, 255, 255);"><font face="宋体">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</font><font face="黑体">viewBinding.videoCaptureButton.</font></span><i><span style="font-family: 黑体; letter-spacing: 0pt; font-size: 9.5pt; background-image: initial; background-position: initial; background-size: initial; background-repeat: initial; background-attachment: initial; background-origin: initial; background-clip: initial; color: rgb(255, 255, 255);"><font face="黑体">apply</font><font face="宋体">&nbsp;</font></span></i><b><span style="font-family: 黑体; letter-spacing: 0pt; font-size: 9.5pt; background-image: initial; background-position: initial; background-size: initial; background-repeat: initial; background-attachment: initial; background-origin: initial; background-clip: initial; color: rgb(255, 255, 255);">{</span></b><b><span style="font-family: 黑体; letter-spacing: 0pt; font-size: 9.5pt; background-image: initial; background-position: initial; background-size: initial; background-repeat: initial; background-attachment: initial; background-origin: initial; background-clip: initial; color: rgb(255, 255, 255);"><br /></span></b><b><span style="font-family: 黑体; letter-spacing: 0pt; font-size: 9.5pt; background-image: initial; background-position: initial; background-size: initial; background-repeat: initial; background-attachment: initial; background-origin: initial; background-clip: initial; color: rgb(255, 255, 255);"><font face="宋体">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</font></span></b><i><span style="font-family: 黑体; letter-spacing: 0pt; font-size: 9.5pt; background-image: initial; background-position: initial; background-size: initial; background-repeat: initial; background-attachment: initial; background-origin: initial; background-clip: initial; color: rgb(255, 255, 255);"><font face="黑体">text</font><font face="宋体">&nbsp;</font></span></i><span style="font-family: 黑体; letter-spacing: 0pt; font-size: 9.5pt; background-image: initial; background-position: initial; background-size: initial; background-repeat: initial; background-attachment: initial; background-origin: initial; background-clip: initial; color: rgb(255, 255, 255);">= getString(R.string.</span><i><span style="font-family: 黑体; letter-spacing: 0pt; font-size: 9.5pt; background-image: initial; background-position: initial; background-size: initial; background-repeat: initial; background-attachment: initial; background-origin: initial; background-clip: initial; color: rgb(255, 255, 255);">stop_capture</span></i><span style="font-family: 黑体; letter-spacing: 0pt; font-size: 9.5pt; background-image: initial; background-position: initial; background-size: initial; background-repeat: initial; background-attachment: initial; background-origin: initial; background-clip: initial; color: rgb(255, 255, 255);">)</span><span style="font-family: 黑体; letter-spacing: 0pt; font-size: 9.5pt; background-image: initial; background-position: initial; background-size: initial; background-repeat: initial; background-attachment: initial; background-origin: initial; background-clip: initial; color: rgb(255, 255, 255);"><br /></span><span style="font-family: 黑体; letter-spacing: 0pt; font-size: 9.5pt; background-image: initial; background-position: initial; background-size: initial; background-repeat: initial; background-attachment: initial; background-origin: initial; background-clip: initial; color: rgb(255, 255, 255);"><font face="宋体">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</font></span><i><span style="font-family: 黑体; letter-spacing: 0pt; font-size: 9.5pt; background-image: initial; background-position: initial; background-size: initial; background-repeat: initial; background-attachment: initial; background-origin: initial; background-clip: initial; color: rgb(255, 255, 255);"><font face="黑体">isEnabled</font><font face="宋体">&nbsp;</font></span></i><span style="font-family: 黑体; letter-spacing: 0pt; font-size: 9.5pt; background-image: initial; background-position: initial; background-size: initial; background-repeat: initial; background-attachment: initial; background-origin: initial; background-clip: initial; color: rgb(255, 255, 255);">= true</span><span style="font-family: 黑体; letter-spacing: 0pt; font-size: 9.5pt; background-image: initial; background-position: initial; background-size: initial; background-repeat: initial; background-attachment: initial; background-origin: initial; background-clip: initial; color: rgb(255, 255, 255);"><br /></span><span style="font-family: 黑体; letter-spacing: 0pt; font-size: 9.5pt; background-image: initial; background-position: initial; background-size: initial; background-repeat: initial; background-attachment: initial; background-origin: initial; background-clip: initial; color: rgb(255, 255, 255);"><font face="宋体">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</font></span><b><span style="font-family: 黑体; letter-spacing: 0pt; font-size: 9.5pt; background-image: initial; background-position: initial; background-size: initial; background-repeat: initial; background-attachment: initial; background-origin: initial; background-clip: initial; color: rgb(255, 255, 255);">}</span></b><b><span style="font-family: 黑体; letter-spacing: 0pt; font-size: 9.5pt; background-image: initial; background-position: initial; background-size: initial; background-repeat: initial; background-attachment: initial; background-origin: initial; background-clip: initial; color: rgb(255, 255, 255);"><br /></span></b><b><span style="font-family: 黑体; letter-spacing: 0pt; font-size: 9.5pt; background-image: initial; background-position: initial; background-size: initial; background-repeat: initial; background-attachment: initial; background-origin: initial; background-clip: initial; color: rgb(255, 255, 255);"><font face="宋体">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</font></span></b><span style="font-family: 黑体; letter-spacing: 0pt; font-size: 9.5pt; background-image: initial; background-position: initial; background-size: initial; background-repeat: initial; background-attachment: initial; background-origin: initial; background-clip: initial; color: rgb(255, 255, 255);">}</span><span style="font-family: 黑体; letter-spacing: 0pt; font-size: 9.5pt; background-image: initial; background-position: initial; background-size: initial; background-repeat: initial; background-attachment: initial; background-origin: initial; background-clip: initial; color: rgb(255, 255, 255);"><br /></span><span style="font-family: 黑体; letter-spacing: 0pt; font-size: 9.5pt; background-image: initial; background-position: initial; background-size: initial; background-repeat: initial; background-attachment: initial; background-origin: initial; background-clip: initial; color: rgb(255, 255, 255);"><font face="宋体">&nbsp;&nbsp;&nbsp;&nbsp;</font><font face="黑体">//完成录制后，用消息框通知用户，并将“Stop Capture”按钮切换回“Start Capture”，然后重新启用它：</font></span><span style="font-family: 黑体; letter-spacing: 0pt; font-size: 9.5pt; background-image: initial; background-position: initial; background-size: initial; background-repeat: initial; background-attachment: initial; background-origin: initial; background-clip: initial; color: rgb(255, 255, 255);"><br /></span><span style="font-family: 黑体; letter-spacing: 0pt; font-size: 9.5pt; background-image: initial; background-position: initial; background-size: initial; background-repeat: initial; background-attachment: initial; background-origin: initial; background-clip: initial; color: rgb(255, 255, 255);"><font face="宋体">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</font><font face="黑体">is VideoRecordEvent.Finalize -&gt; {</font></span><span style="font-family: 黑体; letter-spacing: 0pt; font-size: 9.5pt; background-image: initial; background-position: initial; background-size: initial; background-repeat: initial; background-attachment: initial; background-origin: initial; background-clip: initial; color: rgb(255, 255, 255);"><br /></span><span style="font-family: 黑体; letter-spacing: 0pt; font-size: 9.5pt; background-image: initial; background-position: initial; background-size: initial; background-repeat: initial; background-attachment: initial; background-origin: initial; background-clip: initial; color: rgb(255, 255, 255);"><font face="宋体">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</font><font face="黑体">if (!</font></span><span style="font-family: 黑体; letter-spacing: 0pt; font-size: 9.5pt; background: rgb(34, 60, 35); color: rgb(255, 255, 255);"><font face="黑体">recordEvent</font></span><span style="font-family: 黑体; letter-spacing: 0pt; font-size: 9.5pt; background-image: initial; background-position: initial; background-size: initial; background-repeat: initial; background-attachment: initial; background-origin: initial; background-clip: initial; color: rgb(255, 255, 255);">.hasError()) {</span><span style="font-family: 黑体; letter-spacing: 0pt; font-size: 9.5pt; background-image: initial; background-position: initial; background-size: initial; background-repeat: initial; background-attachment: initial; background-origin: initial; background-clip: initial; color: rgb(255, 255, 255);"><br /></span><span style="font-family: 黑体; letter-spacing: 0pt; font-size: 9.5pt; background-image: initial; background-position: initial; background-size: initial; background-repeat: initial; background-attachment: initial; background-origin: initial; background-clip: initial; color: rgb(255, 255, 255);"><font face="宋体">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</font><font face="黑体">val msg = "Video capture succeeded: " +</font></span><span style="font-family: 黑体; letter-spacing: 0pt; font-size: 9.5pt; background-image: initial; background-position: initial; background-size: initial; background-repeat: initial; background-attachment: initial; background-origin: initial; background-clip: initial; color: rgb(255, 255, 255);"><br /></span><span style="font-family: 黑体; letter-spacing: 0pt; font-size: 9.5pt; background-image: initial; background-position: initial; background-size: initial; background-repeat: initial; background-attachment: initial; background-origin: initial; background-clip: initial; color: rgb(255, 255, 255);"><font face="宋体">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</font><font face="黑体">"${</font></span><span style="font-family: 黑体; letter-spacing: 0pt; font-size: 9.5pt; background: rgb(34, 60, 35); color: rgb(255, 255, 255);"><font face="黑体">recordEvent</font></span><span style="font-family: 黑体; letter-spacing: 0pt; font-size: 9.5pt; background-image: initial; background-position: initial; background-size: initial; background-repeat: initial; background-attachment: initial; background-origin: initial; background-clip: initial; color: rgb(255, 255, 255);">.</span><i><span style="font-family: 黑体; letter-spacing: 0pt; font-size: 9.5pt; background-image: initial; background-position: initial; background-size: initial; background-repeat: initial; background-attachment: initial; background-origin: initial; background-clip: initial; color: rgb(255, 255, 255);">outputResults</span></i><span style="font-family: 黑体; letter-spacing: 0pt; font-size: 9.5pt; background-image: initial; background-position: initial; background-size: initial; background-repeat: initial; background-attachment: initial; background-origin: initial; background-clip: initial; color: rgb(255, 255, 255);">.</span><i><span style="font-family: 黑体; letter-spacing: 0pt; font-size: 9.5pt; background-image: initial; background-position: initial; background-size: initial; background-repeat: initial; background-attachment: initial; background-origin: initial; background-clip: initial; color: rgb(255, 255, 255);">outputUri</span></i><span style="font-family: 黑体; letter-spacing: 0pt; font-size: 9.5pt; background-image: initial; background-position: initial; background-size: initial; background-repeat: initial; background-attachment: initial; background-origin: initial; background-clip: initial; color: rgb(255, 255, 255);">}"</span><span style="font-family: 黑体; letter-spacing: 0pt; font-size: 9.5pt; background-image: initial; background-position: initial; background-size: initial; background-repeat: initial; background-attachment: initial; background-origin: initial; background-clip: initial; color: rgb(255, 255, 255);"><br /></span><span style="font-family: 黑体; letter-spacing: 0pt; font-size: 9.5pt; background-image: initial; background-position: initial; background-size: initial; background-repeat: initial; background-attachment: initial; background-origin: initial; background-clip: initial; color: rgb(255, 255, 255);"><font face="宋体">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</font><font face="黑体">Toast.makeText(</font></span><i><span style="font-family: 黑体; letter-spacing: 0pt; font-size: 9.5pt; background-image: initial; background-position: initial; background-size: initial; background-repeat: initial; background-attachment: initial; background-origin: initial; background-clip: initial; color: rgb(255, 255, 255);">baseContext</span></i><span style="font-family: 黑体; letter-spacing: 0pt; font-size: 9.5pt; background-image: initial; background-position: initial; background-size: initial; background-repeat: initial; background-attachment: initial; background-origin: initial; background-clip: initial; color: rgb(255, 255, 255);">, msg, Toast.</span><i><span style="font-family: 黑体; letter-spacing: 0pt; font-size: 9.5pt; background-image: initial; background-position: initial; background-size: initial; background-repeat: initial; background-attachment: initial; background-origin: initial; background-clip: initial; color: rgb(255, 255, 255);">LENGTH_SHORT</span></i><span style="font-family: 黑体; letter-spacing: 0pt; font-size: 9.5pt; background-image: initial; background-position: initial; background-size: initial; background-repeat: initial; background-attachment: initial; background-origin: initial; background-clip: initial; color: rgb(255, 255, 255);">)</span><span style="font-family: 黑体; letter-spacing: 0pt; font-size: 9.5pt; background-image: initial; background-position: initial; background-size: initial; background-repeat: initial; background-attachment: initial; background-origin: initial; background-clip: initial; color: rgb(255, 255, 255);"><br /></span><span style="font-family: 黑体; letter-spacing: 0pt; font-size: 9.5pt; background-image: initial; background-position: initial; background-size: initial; background-repeat: initial; background-attachment: initial; background-origin: initial; background-clip: initial; color: rgb(255, 255, 255);"><font face="宋体">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</font><font face="黑体">.show()</font></span><span style="font-family: 黑体; letter-spacing: 0pt; font-size: 9.5pt; background-image: initial; background-position: initial; background-size: initial; background-repeat: initial; background-attachment: initial; background-origin: initial; background-clip: initial; color: rgb(255, 255, 255);"><br /></span><span style="font-family: 黑体; letter-spacing: 0pt; font-size: 9.5pt; background-image: initial; background-position: initial; background-size: initial; background-repeat: initial; background-attachment: initial; background-origin: initial; background-clip: initial; color: rgb(255, 255, 255);"><font face="宋体">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</font><font face="黑体">Log.d(TAG, msg)</font></span><span style="font-family: 黑体; letter-spacing: 0pt; font-size: 9.5pt; background-image: initial; background-position: initial; background-size: initial; background-repeat: initial; background-attachment: initial; background-origin: initial; background-clip: initial; color: rgb(255, 255, 255);"><br /></span><span style="font-family: 黑体; letter-spacing: 0pt; font-size: 9.5pt; background-image: initial; background-position: initial; background-size: initial; background-repeat: initial; background-attachment: initial; background-origin: initial; background-clip: initial; color: rgb(255, 255, 255);"><font face="宋体">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</font><font face="黑体">} else {</font></span><span style="font-family: 黑体; letter-spacing: 0pt; font-size: 9.5pt; background-image: initial; background-position: initial; background-size: initial; background-repeat: initial; background-attachment: initial; background-origin: initial; background-clip: initial; color: rgb(255, 255, 255);"><br /></span><span style="font-family: 黑体; letter-spacing: 0pt; font-size: 9.5pt; background-image: initial; background-position: initial; background-size: initial; background-repeat: initial; background-attachment: initial; background-origin: initial; background-clip: initial; color: rgb(255, 255, 255);"><font face="宋体">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</font><font face="黑体">recording?.close()</font></span><span style="font-family: 黑体; letter-spacing: 0pt; font-size: 9.5pt; background-image: initial; background-position: initial; background-size: initial; background-repeat: initial; background-attachment: initial; background-origin: initial; background-clip: initial; color: rgb(255, 255, 255);"><br /></span><span style="font-family: 黑体; letter-spacing: 0pt; font-size: 9.5pt; background-image: initial; background-position: initial; background-size: initial; background-repeat: initial; background-attachment: initial; background-origin: initial; background-clip: initial; color: rgb(255, 255, 255);"><font face="宋体">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</font><font face="黑体">recording = null</font></span><span style="font-family: 黑体; letter-spacing: 0pt; font-size: 9.5pt; background-image: initial; background-position: initial; background-size: initial; background-repeat: initial; background-attachment: initial; background-origin: initial; background-clip: initial; color: rgb(255, 255, 255);"><br /></span><span style="font-family: 黑体; letter-spacing: 0pt; font-size: 9.5pt; background-image: initial; background-position: initial; background-size: initial; background-repeat: initial; background-attachment: initial; background-origin: initial; background-clip: initial; color: rgb(255, 255, 255);"><font face="宋体">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</font><font face="黑体">Log.e(TAG, "Video capture ends with error: " +</font></span><span style="font-family: 黑体; letter-spacing: 0pt; font-size: 9.5pt; background-image: initial; background-position: initial; background-size: initial; background-repeat: initial; background-attachment: initial; background-origin: initial; background-clip: initial; color: rgb(255, 255, 255);"><br /></span><span style="font-family: 黑体; letter-spacing: 0pt; font-size: 9.5pt; background-image: initial; background-position: initial; background-size: initial; background-repeat: initial; background-attachment: initial; background-origin: initial; background-clip: initial; color: rgb(255, 255, 255);"><font face="宋体">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</font><font face="黑体">"${</font></span><span style="font-family: 黑体; letter-spacing: 0pt; font-size: 9.5pt; background: rgb(34, 60, 35); color: rgb(255, 255, 255);"><font face="黑体">recordEvent</font></span><span style="font-family: 黑体; letter-spacing: 0pt; font-size: 9.5pt; background-image: initial; background-position: initial; background-size: initial; background-repeat: initial; background-attachment: initial; background-origin: initial; background-clip: initial; color: rgb(255, 255, 255);">.</span><i><span style="font-family: 黑体; letter-spacing: 0pt; font-size: 9.5pt; background-image: initial; background-position: initial; background-size: initial; background-repeat: initial; background-attachment: initial; background-origin: initial; background-clip: initial; color: rgb(255, 255, 255);">error</span></i><span style="font-family: 黑体; letter-spacing: 0pt; font-size: 9.5pt; background-image: initial; background-position: initial; background-size: initial; background-repeat: initial; background-attachment: initial; background-origin: initial; background-clip: initial; color: rgb(255, 255, 255);">}")</span><span style="font-family: 黑体; letter-spacing: 0pt; font-size: 9.5pt; background-image: initial; background-position: initial; background-size: initial; background-repeat: initial; background-attachment: initial; background-origin: initial; background-clip: initial; color: rgb(255, 255, 255);"><br /></span><span style="font-family: 黑体; letter-spacing: 0pt; font-size: 9.5pt; background-image: initial; background-position: initial; background-size: initial; background-repeat: initial; background-attachment: initial; background-origin: initial; background-clip: initial; color: rgb(255, 255, 255);"><font face="宋体">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</font><font face="黑体">}</font></span><span style="font-family: 黑体; letter-spacing: 0pt; font-size: 9.5pt; background-image: initial; background-position: initial; background-size: initial; background-repeat: initial; background-attachment: initial; background-origin: initial; background-clip: initial; color: rgb(255, 255, 255);"><br /></span><span style="font-family: 黑体; letter-spacing: 0pt; font-size: 9.5pt; background-image: initial; background-position: initial; background-size: initial; background-repeat: initial; background-attachment: initial; background-origin: initial; background-clip: initial; color: rgb(255, 255, 255);"><font face="宋体">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</font><font face="黑体">viewBinding.videoCaptureButton.</font></span><i><span style="font-family: 黑体; letter-spacing: 0pt; font-size: 9.5pt; background-image: initial; background-position: initial; background-size: initial; background-repeat: initial; background-attachment: initial; background-origin: initial; background-clip: initial; color: rgb(255, 255, 255);"><font face="黑体">apply</font><font face="宋体">&nbsp;</font></span></i><b><span style="font-family: 黑体; letter-spacing: 0pt; font-size: 9.5pt; background-image: initial; background-position: initial; background-size: initial; background-repeat: initial; background-attachment: initial; background-origin: initial; background-clip: initial; color: rgb(255, 255, 255);">{</span></b><b><span style="font-family: 黑体; letter-spacing: 0pt; font-size: 9.5pt; background-image: initial; background-position: initial; background-size: initial; background-repeat: initial; background-attachment: initial; background-origin: initial; background-clip: initial; color: rgb(255, 255, 255);"><br /></span></b><b><span style="font-family: 黑体; letter-spacing: 0pt; font-size: 9.5pt; background-image: initial; background-position: initial; background-size: initial; background-repeat: initial; background-attachment: initial; background-origin: initial; background-clip: initial; color: rgb(255, 255, 255);"><font face="宋体">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</font></span></b><i><span style="font-family: 黑体; letter-spacing: 0pt; font-size: 9.5pt; background-image: initial; background-position: initial; background-size: initial; background-repeat: initial; background-attachment: initial; background-origin: initial; background-clip: initial; color: rgb(255, 255, 255);"><font face="黑体">text</font><font face="宋体">&nbsp;</font></span></i><span style="font-family: 黑体; letter-spacing: 0pt; font-size: 9.5pt; background-image: initial; background-position: initial; background-size: initial; background-repeat: initial; background-attachment: initial; background-origin: initial; background-clip: initial; color: rgb(255, 255, 255);">= getString(R.string.</span><i><span style="font-family: 黑体; letter-spacing: 0pt; font-size: 9.5pt; background-image: initial; background-position: initial; background-size: initial; background-repeat: initial; background-attachment: initial; background-origin: initial; background-clip: initial; color: rgb(255, 255, 255);">start_capture</span></i><span style="font-family: 黑体; letter-spacing: 0pt; font-size: 9.5pt; background-image: initial; background-position: initial; background-size: initial; background-repeat: initial; background-attachment: initial; background-origin: initial; background-clip: initial; color: rgb(255, 255, 255);">)</span><span style="font-family: 黑体; letter-spacing: 0pt; font-size: 9.5pt; background-image: initial; background-position: initial; background-size: initial; background-repeat: initial; background-attachment: initial; background-origin: initial; background-clip: initial; color: rgb(255, 255, 255);"><br /></span><span style="font-family: 黑体; letter-spacing: 0pt; font-size: 9.5pt; background-image: initial; background-position: initial; background-size: initial; background-repeat: initial; background-attachment: initial; background-origin: initial; background-clip: initial; color: rgb(255, 255, 255);"><font face="宋体">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</font></span><i><span style="font-family: 黑体; letter-spacing: 0pt; font-size: 9.5pt; background-image: initial; background-position: initial; background-size: initial; background-repeat: initial; background-attachment: initial; background-origin: initial; background-clip: initial; color: rgb(255, 255, 255);"><font face="黑体">isEnabled</font><font face="宋体">&nbsp;</font></span></i><span style="font-family: 黑体; letter-spacing: 0pt; font-size: 9.5pt; background-image: initial; background-position: initial; background-size: initial; background-repeat: initial; background-attachment: initial; background-origin: initial; background-clip: initial; color: rgb(255, 255, 255);">= true</span><span style="font-family: 黑体; letter-spacing: 0pt; font-size: 9.5pt; background-image: initial; background-position: initial; background-size: initial; background-repeat: initial; background-attachment: initial; background-origin: initial; background-clip: initial; color: rgb(255, 255, 255);"><br /></span><span style="font-family: 黑体; letter-spacing: 0pt; font-size: 9.5pt; background-image: initial; background-position: initial; background-size: initial; background-repeat: initial; background-attachment: initial; background-origin: initial; background-clip: initial; color: rgb(255, 255, 255);"><font face="宋体">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</font></span><b><span style="font-family: 黑体; letter-spacing: 0pt; font-size: 9.5pt; background-image: initial; background-position: initial; background-size: initial; background-repeat: initial; background-attachment: initial; background-origin: initial; background-clip: initial; color: rgb(255, 255, 255);">}</span></b><b><span style="font-family: 黑体; letter-spacing: 0pt; font-size: 9.5pt; background-image: initial; background-position: initial; background-size: initial; background-repeat: initial; background-attachment: initial; background-origin: initial; background-clip: initial; color: rgb(255, 255, 255);"><br /></span></b><b><span style="font-family: 黑体; letter-spacing: 0pt; font-size: 9.5pt; background-image: initial; background-position: initial; background-size: initial; background-repeat: initial; background-attachment: initial; background-origin: initial; background-clip: initial; color: rgb(255, 255, 255);"><font face="宋体">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</font></span></b><span style="font-family: 黑体; letter-spacing: 0pt; font-size: 9.5pt; background-image: initial; background-position: initial; background-size: initial; background-repeat: initial; background-attachment: initial; background-origin: initial; background-clip: initial; color: rgb(255, 255, 255);">}</span><span style="font-family: 黑体; letter-spacing: 0pt; font-size: 9.5pt; background-image: initial; background-position: initial; background-size: initial; background-repeat: initial; background-attachment: initial; background-origin: initial; background-clip: initial; color: rgb(255, 255, 255);"><br /></span><span style="font-family: 黑体; letter-spacing: 0pt; font-size: 9.5pt; background-image: initial; background-position: initial; background-size: initial; background-repeat: initial; background-attachment: initial; background-origin: initial; background-clip: initial; color: rgb(255, 255, 255);"><font face="宋体">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</font><font face="黑体">}</font></span><span style="font-family: 黑体; letter-spacing: 0pt; font-size: 9.5pt; background-image: initial; background-position: initial; background-size: initial; background-repeat: initial; background-attachment: initial; background-origin: initial; background-clip: initial; color: rgb(255, 255, 255);"><br /></span><span style="font-family: 黑体; letter-spacing: 0pt; font-size: 9.5pt; background-image: initial; background-position: initial; background-size: initial; background-repeat: initial; background-attachment: initial; background-origin: initial; background-clip: initial; color: rgb(255, 255, 255);"><font face="宋体">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</font></span><b><span style="font-family: 黑体; letter-spacing: 0pt; font-size: 9.5pt; background-image: initial; background-position: initial; background-size: initial; background-repeat: initial; background-attachment: initial; background-origin: initial; background-clip: initial; color: rgb(255, 255, 255);">}</span></b><b><span style="font-family: 黑体; letter-spacing: 0pt; font-size: 9.5pt; background-image: initial; background-position: initial; background-size: initial; background-repeat: initial; background-attachment: initial; background-origin: initial; background-clip: initial; color: rgb(255, 255, 255);"><br /></span></b><span style="font-family: 黑体; letter-spacing: 0pt; font-size: 9.5pt; background-image: initial; background-position: initial; background-size: initial; background-repeat: initial; background-attachment: initial; background-origin: initial; background-clip: initial; color: rgb(255, 255, 255);">}</span><span style="mso-spacerun:'yes';font-family:宋体;font-size:12.0000pt;
mso-font-kerning:0.0000pt;color:rgb(255,255,255);"><o:p></o:p></span></p><p class="MsoNormal" style="margin: 5pt 0pt;"><span style="font-family: 黑体; letter-spacing: 0pt; font-size: 10.5pt; background-image: initial; background-position: initial; background-size: initial; background-repeat: initial; background-attachment: initial; background-origin: initial; background-clip: initial;">效果展示</span><span style="font-family: 黑体; letter-spacing: 0pt; font-size: 10.5pt; background-image: initial; background-position: initial; background-size: initial; background-repeat: initial; background-attachment: initial; background-origin: initial; background-clip: initial;"><o:p></o:p></span></p><p class="MsoNormal" style="margin: 5pt 0pt;"><span style="font-family: 黑体; letter-spacing: 0pt; font-size: 10.5pt; background-image: initial; background-position: initial; background-size: initial; background-repeat: initial; background-attachment: initial; background-origin: initial; background-clip: initial;">初次打开应用请求相机权限</span><span style="font-family: 黑体; letter-spacing: 0pt; font-size: 10.5pt; background-image: initial; background-position: initial; background-size: initial; background-repeat: initial; background-attachment: initial; background-origin: initial; background-clip: initial;"><o:p></o:p></span></p><div><img src="https://github.com/itisnotarobot/AndroidProject/blob/main/%E5%AE%9E%E9%AA%8C2_2_%E6%9E%84%E5%BB%BACameraX%E5%BA%94%E7%94%A8/images/pic2.png" /><img src="https://github.com/itisnotarobot/AndroidProject/blob/main/%E5%AE%9E%E9%AA%8C2_2_%E6%9E%84%E5%BB%BACameraX%E5%BA%94%E7%94%A8/images/pic3.png" /></div><p class="MsoNormal" style="margin: 5pt 0pt;"><span style="font-family: 黑体; letter-spacing: 0pt; font-size: 10.5pt; background-image: initial; background-position: initial; background-size: initial; background-repeat: initial; background-attachment: initial; background-origin: initial; background-clip: initial;">进入相机界面</span><span style="font-family: 黑体; letter-spacing: 0pt; font-size: 10.5pt; background-image: initial; background-position: initial; background-size: initial; background-repeat: initial; background-attachment: initial; background-origin: initial; background-clip: initial;"><o:p></o:p></span></p><p class="MsoNormal"><img src="https://github.com/itisnotarobot/AndroidProject/blob/main/%E5%AE%9E%E9%AA%8C2_2_%E6%9E%84%E5%BB%BACameraX%E5%BA%94%E7%94%A8/images/pic4.png" /></p><p class="MsoNormal" style="margin: 5pt 0pt;"><span style="font-family: 黑体; letter-spacing: 0pt; font-size: 10.5pt; background-image: initial; background-position: initial; background-size: initial; background-repeat: initial; background-attachment: initial; background-origin: initial; background-clip: initial;"><font face="黑体">点击拍照</font><font face="宋体">&nbsp;</font><font face="黑体">成功拍照并显示照片存储位置</font></span><span style="font-family: 黑体; letter-spacing: 0pt; font-size: 10.5pt; background-image: initial; background-position: initial; background-size: initial; background-repeat: initial; background-attachment: initial; background-origin: initial; background-clip: initial;"><o:p></o:p></span></p><p class="MsoNormal"><img src="https://github.com/itisnotarobot/AndroidProject/blob/main/%E5%AE%9E%E9%AA%8C2_2_%E6%9E%84%E5%BB%BACameraX%E5%BA%94%E7%94%A8/images/pic5.png" /></p><p class="MsoNormal"><span style="font-size: 10.5pt; font-family: &quot;Microsoft Yahei&quot;;"><font face="黑体">点击摄像按钮变成结束摄像</font> <font face="黑体">在摄像过程中仍然可以进行拍照</font><o:p></o:p></span></p><p class="MsoNormal"><img src="https://github.com/itisnotarobot/AndroidProject/blob/main/%E5%AE%9E%E9%AA%8C2_2_%E6%9E%84%E5%BB%BACameraX%E5%BA%94%E7%94%A8/images/pic6.png" /></p><p class="MsoNormal"><span style="font-size: 10.5pt; font-family: &quot;Microsoft Yahei&quot;;"><font face="黑体">点击结束</font> <font face="黑体">成功保存录像并提升储存位置</font><o:p></o:p></span></p><p class="MsoNormal"><img src="https://github.com/itisnotarobot/AndroidProject/blob/main/%E5%AE%9E%E9%AA%8C2_2_%E6%9E%84%E5%BB%BACameraX%E5%BA%94%E7%94%A8/images/pic7.png" /></p><p class="MsoNormal"><br /></p></div><br /><br /><br />